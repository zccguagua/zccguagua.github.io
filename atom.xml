<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Orange个人博客</title>
  
  <subtitle>我见青山多妩媚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-07-21T16:27:03.547Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>ZhengChengcheng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Retorfit使用及问题总结</title>
    <link href="http://yoursite.com/2019/07/15/Retorfit%E4%BD%BF%E7%94%A8%E5%8F%8A%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2019/07/15/Retorfit使用及问题总结/</id>
    <published>2019-07-14T16:11:21.000Z</published>
    <updated>2019-07-21T16:27:03.547Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/watermelon.jpg" class="[food]" title="watermelon"><h3 id="1-创建请求基类方便处理返回结果"><a href="#1-创建请求基类方便处理返回结果" class="headerlink" title="1.创建请求基类方便处理返回结果"></a>1.创建请求基类方便处理返回结果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Retorfit 网络请求基类</span><br><span class="line">public class BaseResponse&lt;T&gt; &#123;</span><br><span class="line">    public int status;</span><br><span class="line">    public String msg;</span><br><span class="line">    public T body;</span><br><span class="line">    public boolean isSuccess()&#123;</span><br><span class="line">        return status == 200;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        final StringBuilder sb = new StringBuilder(&quot;&#123;&quot;);</span><br><span class="line">        sb.append(&quot;\&quot;body\&quot;:&quot;)</span><br><span class="line">                .append(body);</span><br><span class="line">        sb.append(&apos;&#125;&apos;);</span><br><span class="line">        return sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-请求方法"><a href="#2-请求方法" class="headerlink" title="2.请求方法"></a>2.请求方法</h3><p>URL请求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@GET</span><br><span class="line">Observable&lt;WeatherApiBean&gt; sevenDaysWeather(@Url String url);</span><br></pre></td></tr></table></figure></p><p>GET 请求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@GET(&quot;api/v1.0/version&quot;)</span><br><span class="line">Observable&lt;BaseResponse&lt;Version&gt;&gt; getTerminalVersion(@Header(&quot;token&quot;) String token</span><br><span class="line">, @Query(&quot;type&quot;) int type);</span><br></pre></td></tr></table></figure></p><p>POST请求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@FormUrlEncoded</span><br><span class="line">@POST(&quot;api/v1.0/terminal/login&quot;)</span><br><span class="line">Observable&lt;BaseResponse&lt;Map&lt;String, Object&gt;&gt;&gt; login(@Field(&quot;deviceType&quot;) String deviceType);</span><br></pre></td></tr></table></figure></p><p>注意  @FormUrlEncoded不可和@Body连用</p><p>DELETE 请求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Headers(&quot;Content-Type:application/x-www-form-urlencoded&quot;)</span><br><span class="line">@HTTP(method = &quot;DELETE&quot;, path = &quot;api/v1.0/terminal/bindingAllElder&quot;, hasBody = true)</span><br><span class="line">Observable&lt;Map&lt;String, Object&gt;&gt; bindingAllElder(@Header(&quot;token&quot;) String token</span><br><span class="line">, @Query(&quot;sn&quot;) String sn);</span><br></pre></td></tr></table></figure></p><h3 id="3-配置证书及拦截器及证书"><a href="#3-配置证书及拦截器及证书" class="headerlink" title="3.配置证书及拦截器及证书"></a>3.配置证书及拦截器及证书</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//将证书放到raw目录下</span><br><span class="line">public static int[] certificates = new int[]&#123;R.raw.zhengshu&#125;;</span><br><span class="line">OkHttpClient.Builder builder = new OkHttpClient.Builder();</span><br><span class="line">     //连接超时时间</span><br><span class="line">     builder.connectTimeout(DEFAULT_TIME_OUT, TimeUnit.SECONDS);</span><br><span class="line">     //写操作 超时时间</span><br><span class="line">     builder.writeTimeout(DEFAULT_READ_TIME_OUT, TimeUnit.SECONDS);</span><br><span class="line">     //读操作超时时间</span><br><span class="line">     builder.readTimeout(DEFAULT_READ_TIME_OUT, TimeUnit.SECONDS);</span><br><span class="line">     //配置https证书</span><br><span class="line">     builder.sslSocketFactory(SslSocketFactory.getSSLSocketFactory(certificates));</span><br><span class="line">     //配置https证书</span><br><span class="line">     builder.hostnameVerifier(SslSocketFactory.getHostnameVerifier());</span><br><span class="line">    //自定义公共拦截器</span><br><span class="line">     HttpCommonInterceptor commonInterceptor = new HttpCommonInterceptor.Builder()</span><br><span class="line">          //添加token</span><br><span class="line">//        .addHeaderParams(&quot;token&quot;, MyApplication.getInstance().getToken())</span><br><span class="line">          .addHeaderParams(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;)</span><br><span class="line">          .build();</span><br><span class="line">     builder.addInterceptor(commonInterceptor);</span><br></pre></td></tr></table></figure><p>项目域名备案期间，后台使用https+ip方式，并给出https证书.pem文件，要在retorfit框架加入证书。</p><p>证书类：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">public class SslSocketFactory &#123;</span><br><span class="line">    private static Context mContext;</span><br><span class="line">    public static javax.net.ssl.SSLSocketFactory getSSLSocketFactory(int[] certificates) &#123;</span><br><span class="line">        mContext = MyApplication.getContext();</span><br><span class="line">        if (mContext == null) &#123;</span><br><span class="line">            throw new NullPointerException(&quot;context == null&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        CertificateFactory certificateFactory;</span><br><span class="line">        SSLContext sslContext = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);</span><br><span class="line">            KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());</span><br><span class="line">            keyStore.load(null, null);</span><br><span class="line">            for (int i = 0; i &lt; certificates.length; i++) &#123;</span><br><span class="line">                InputStream certificate = mContext.getResources()</span><br><span class="line">                .openRawResource(certificates[i]);</span><br><span class="line">                keyStore.setCertificateEntry(String.valueOf(i)</span><br><span class="line">                , certificateFactory.generateCertificate(certificate));</span><br><span class="line"></span><br><span class="line">                if (certificate != null) &#123;</span><br><span class="line">                    certificate.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            sslContext = SSLContext.getInstance(&quot;TLS&quot;);</span><br><span class="line">            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(</span><br><span class="line">            TrustManagerFactory.getDefaultAlgorithm());</span><br><span class="line"></span><br><span class="line">            trustManagerFactory.init(keyStore);</span><br><span class="line">            sslContext.init(null, trustManagerFactory.getTrustManagers()</span><br><span class="line">            , new SecureRandom());</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        return sslContext.getSocketFactory();</span><br><span class="line">&#125;</span><br><span class="line">    /**</span><br><span class="line">     * 添加https支持</span><br><span class="line">     */</span><br><span class="line">    public static HostnameVerifier getHostnameVerifier() &#123;</span><br><span class="line">        HostnameVerifier hostnameVerifier = new HostnameVerifier() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean verify(String hostname, SSLSession session) &#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        return hostnameVerifier;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>注意：添加证书后会导致其他服务器的https无法访问，与后台沟通暂无解决方法，幸运的是其他https链接只使用一个，单独对这个链接使用未加证书的okhttp方法。备案成功后，即可去除证书，恢复原有访问方法。</p><h3 id="4-请求参数复杂问题"><a href="#4-请求参数复杂问题" class="headerlink" title="4.请求参数复杂问题"></a>4.请求参数复杂问题</h3><p>当请求参数为json字符串时 如 ?params = “{“identity”:”123”,”name”:”网二”}”;时出现请求错误，原因”{“,”}”等符号和中文会在请求中被转换格式。<br>解决方法：<br>(1)GET请求发送json参数包含{}和中文可以使用对参数转码成utf-8,url拼接地址的形式,使用url作为参数：@Url String url<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String params=&quot;&#123;&quot;identity&quot;:&quot;123&quot;,&quot;name&quot;:&quot;网二&quot;&#125;&quot;</span><br><span class="line">   url=URL+&quot;?params：&quot;+ URLEncoder.encode(params, &quot;utf-8&quot;);//拼接url</span><br></pre></td></tr></table></figure></p><p>(2)POST请求加入下面即可：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Headers(&quot;Content-Type:application/x-www-form-urlencoded; charset=utf-8&quot;)</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>东极岛--太平洋的第一缕海风</title>
    <link href="http://yoursite.com/2019/05/20/%E4%B8%9C%E6%9E%81%E5%B2%9B-%E5%A4%AA%E5%B9%B3%E6%B4%8B%E7%9A%84%E7%AC%AC%E4%B8%80%E7%BC%95%E6%B5%B7%E9%A3%8E/"/>
    <id>http://yoursite.com/2019/05/20/东极岛-太平洋的第一缕海风/</id>
    <published>2019-05-20T14:17:37.000Z</published>
    <updated>2019-05-30T14:26:13.361Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="http://image.zcc.ac.cn/dongjidao-00.jpg" class="[dongjidao]" title="东极岛"><h3 id="出发"><a href="#出发" class="headerlink" title="出发"></a>出发</h3><p>四月中旬，突然就冒出想去看海的想法，并且在脑海中久久挥之不去，到了夜不能寐的地步，我也不知道这种感觉为何会如此强烈，可能海真的在呼唤我吧。联系了在杭州的同学，在我的蛊惑下拉他一起去看海。那么问题来了：去哪里看海？<br>经过几番搜索选择了东极岛这个号称“中国第一缕曙光的地方”，才知道它就是韩寒的电影《后会无期》的取景地。不错不错，匆匆浏览下攻略，买票准备五一放假出发。</p><h3 id="May-1st"><a href="#May-1st" class="headerlink" title="May 1st"></a>May 1st</h3><p>基本都在坐车。从合肥坐三个多小时高铁到宁波，与杭州来的同学回合。一同再坐两个半小时汽车到达舟山的沈家门，明天坐船的码头就在这里了。此时天色已黑，找到住的宾馆后出来觅食，这里海鲜盛行，花样繁多，我们吃了不少。<br><img src="http://image.zcc.ac.cn/dongjidao-3.jpg" class="[dongjidao]" title="东极岛"></p><h3 id="May-2nd"><a href="#May-2nd" class="headerlink" title="May 2nd"></a>May 2nd</h3><p>东极岛景区其实是由四个岛组成的，分别是：东福山岛，庙子湖岛，青浜岛，黄兴岛。假期有限，我们选择了其中的两个岛游玩。第一天去号称“第一缕曙光”东福山岛，第二天去主岛庙子湖岛。<br><img src="http://image.zcc.ac.cn/dongjidao-01.jpg" class="[dongjidao]" title="东极岛"><br>上船了，有点小激动，想起了泰坦尼克号。<br>据说会晕船，船确实有点晃，但我一点晕船的感觉都没有。<br><img src="http://image.zcc.ac.cn/dongjidao-6.jpg" class="[dongjidao]" title="祥和号"><br>乘风破浪<br><img src="http://image.zcc.ac.cn/dongjidao-5.jpg" class="[dongjidao]" title="东极岛"><br> <div id="dplayer4" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer4"),"video":{"url":"http://image.zcc.ac.cn/dongjidao-video-1.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><br> <div id="dplayer5" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer5"),"video":{"url":"http://image.zcc.ac.cn/dongjidao-video-2.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><br> <img src="http://image.zcc.ac.cn/dongjidao-2.jpg" class="[dongjidao]" title="东极岛"><br> <div id="dplayer6" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer6"),"video":{"url":"http://image.zcc.ac.cn/dongjidao-video-3.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></p><p>航行两个半小时后到达第一天的目的地：东福山岛<br><img src="http://image.zcc.ac.cn/dongjidao-21.jpg" class="[dongjidao]" title="东极岛"><br>开始徒步环岛<br><img src="http://image.zcc.ac.cn/dongjidao-11.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-19.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-18.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-20.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-12.jpg" class="[dongjidao]" title="东极岛"><br>这里没有人山人海，只有你和大海<br><img src="http://image.zcc.ac.cn/dongjidao-14.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-15.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-22.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-23.jpg" class="[dongjidao]" title="东极岛"><br>海风中没有海的味道，但是确实是凉凉的，特别舒服。<br><img src="http://image.zcc.ac.cn/dongjidao-26.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-32.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-34.jpg" class="[dongjidao]" title="东极岛"><br>合影<br><img src="http://image.zcc.ac.cn/dongjidao-33.jpg" class="[dongjidao]" title="合影"><br>傍晚时分回到旅馆，这里的旅馆大多都是面朝大海的，坐在阳台吹着海风看着太阳缓缓落下，特别安逸祥和。来的时候那艘船就叫“祥和号”，是不是跟这有关呢。<br><img src="http://image.zcc.ac.cn/dongjidao-31.jpg" class="[dongjidao]" title="夕阳西下"><br><img src="http://image.zcc.ac.cn/dongjidao-29.jpg" class="[dongjidao]" title="夕阳西下"><br><img src="http://image.zcc.ac.cn/dongjidao-28.jpg" class="[dongjidao]" title="夕阳西下"><br>在旅馆老板家楼下吃晚餐<br><img src="http://image.zcc.ac.cn/dongjidao-4.jpg" class="[dongjidao]" title="东极岛"></p><h3 id="May-3rd"><a href="#May-3rd" class="headerlink" title="May 3rd"></a>May 3rd</h3><p>四点抹黑起床去看日出<br><img src="http://image.zcc.ac.cn/dongjidao-43.jpg" class="[dongjidao]" title="东极岛"><br>天渐亮<br><img src="http://image.zcc.ac.cn/dongjidao-42.jpg" class="[dongjidao]" title="东极岛"><br>日出<br><img src="http://image.zcc.ac.cn/dongjidao-41.jpg" class="[dongjidao]" title="日出"><br><img src="http://image.zcc.ac.cn/dongjidao-40.jpg" class="[dongjidao]" title="日出"><br> <div id="dplayer7" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer7"),"video":{"url":"http://image.zcc.ac.cn/dongjidao-video-5.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><br><img src="http://image.zcc.ac.cn/dongjidao-37.jpg" class="[dongjidao]" title="日出"><br><img src="http://image.zcc.ac.cn/dongjidao-36.jpg" class="[dongjidao]" title="日出"><br>继续环岛<br><img src="http://image.zcc.ac.cn/dongjidao-45.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-46.jpg" class="[dongjidao]" title="东极岛"><br>超爱下面这张图了：p<br><img src="http://image.zcc.ac.cn/dongjidao-47.jpg" class="[dongjidao]" title="帅气"><br><img src="http://image.zcc.ac.cn/dongjidao-49.jpg" class="[dongjidao]" title="东极岛"></p><p>东极岛的标志性建筑–财伯公雕像<br><img src="http://image.zcc.ac.cn/dongjidao-44.jpg" class="[dongjidao]" title="财伯公雕像"><br><img src="http://image.zcc.ac.cn/dongjidao-50.jpg" class="[dongjidao]" title="东极岛"><br><img src="http://image.zcc.ac.cn/dongjidao-53.jpg" class="[dongjidao]" title="东极岛"><br>心满意足，不虚此行<br><img src="http://image.zcc.ac.cn/dongjidao-55.jpg" class="[dongjidao]" title="东极岛"></p><h3 id="PS"><a href="#PS" class="headerlink" title="PS"></a>PS</h3><p>1.沈家门去东极岛的船票提前三天开始售票，五一人多为了抢票我真的五点起来抢。平时每天只有两班船，所以说岛上人很少，是节假日旅行的理想选择。<br>2.东极岛每年4月到9月是禁渔期，吃的鱼的种类会少，价格也会偏高。<br>3.附五一期间的东极岛航班时间表。<br><img src="http://image.zcc.ac.cn/dongjidao-7.jpg" class="[dongjidao]" title="航班"><br>4.回来后又看了一遍电影《后会无期》感觉格外亲切。<br>5.粗略费用：合肥到宁波高铁单程≈300￥，宁波到舟山沈家门汽车单程≈50￥，船票单程≈150￥，住宿一晚≈300￥，吃一次海鲜&gt;200￥</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="生活" scheme="http://yoursite.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>Android问题与解答4</title>
    <link href="http://yoursite.com/2018/12/05/Android%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E7%AD%944/"/>
    <id>http://yoursite.com/2018/12/05/Android问题与解答4/</id>
    <published>2018-12-05T15:21:02.000Z</published>
    <updated>2019-02-27T15:21:26.354Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/girl_night.jpg" class="[images]" title="girl"><p><a href="#fastclick">1.判断是否快速点击</a><br><a href="#margins">2.自定义位置</a><br><a href="#timer">3.定时器</a><br><a href="#appendmp4">4.视频合并</a><br><a href="#muchtime">5.方法执行超过指定时间</a></p><h3 id="1-判断是否快速点击"><a href="#1-判断是否快速点击" class="headerlink" title="1.判断是否快速点击"></a><span id="fastclick">1.判断是否快速点击</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private static final int MIN_DELAY_TIME= 1000; // 两次点击间隔不能少于1000ms</span><br><span class="line">     private static long lastClickTime; </span><br><span class="line">    public static boolean isFastClick() &#123;</span><br><span class="line"> boolean flag = true;</span><br><span class="line">long currentClickTime = System.currentTimeMillis();</span><br><span class="line"> if ((currentClickTime - lastClickTime) &gt;= MIN_DELAY_TIME) &#123; </span><br><span class="line">flag = false;</span><br><span class="line"> &#125; </span><br><span class="line">lastClickTime = currentClickTime; </span><br><span class="line">return flag; </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="2-自定义位置"><a href="#2-自定义位置" class="headerlink" title="2.自定义位置"></a><span id="margins">2.自定义位置</span></h3><p><a href="https://www.cnblogs.com/Annoying/p/5402339.html" target="_blank" rel="noopener">RelativeLayout.addRule()方法</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">private RelativeLayout.LayoutParams videoParams；</span><br><span class="line">videoParams = (RelativeLayout.LayoutParams) video.getLayoutParams();</span><br><span class="line">videoParams.addRule(RelativeLayout.BELOW, R.id.recyclerTip_layout);</span><br><span class="line">videoParams.addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);</span><br><span class="line">videoParams.setMargins(10, 10, 0, 0);//左上右下</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//设置位置</span><br><span class="line"> Drawable helpImg = getResources().getDrawable(R.drawable.alarm);//一张图片</span><br><span class="line"> //设置位置前两个是组件左上角在容器中的坐标，后两个是组件的宽度和高度 </span><br><span class="line">        helpImg.setBounds(0, 50, 150, 200);</span><br><span class="line">        //讲图片在main_help中固定位置</span><br><span class="line">        main_help.setCompoundDrawables(null, helpImg, null, null);</span><br></pre></td></tr></table></figure><h3 id="3-定时器"><a href="#3-定时器" class="headerlink" title="3.定时器"></a><span id="timer">3.定时器</span></h3><h4 id="service里设置开机启动"><a href="#service里设置开机启动" class="headerlink" title="service里设置开机启动"></a>service里设置开机启动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    @Override</span><br><span class="line">    protected void startMainActivity() &#123;</span><br><span class="line">   //分机背光时间设置</span><br><span class="line">        BackLightUtils.getInstance().openCallUploadTimer(getApplicationContext());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="定义类方法"><a href="#定义类方法" class="headerlink" title="定义类方法"></a>定义类方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 文件名：</span><br><span class="line"> * 描述：定时器</span><br><span class="line"> * 作者：赵松波</span><br><span class="line"> * 时间：2016/9/20</span><br><span class="line"> */</span><br><span class="line">public class TimerManager &#123;</span><br><span class="line"></span><br><span class="line">    public static final String TAG = &quot;TimerManager&quot;;</span><br><span class="line">    public static final String ACTION = &quot;com.lonbon.lonbonbroadcast.manager.TestReceiver&quot;;</span><br><span class="line">    private static final int TIME_INTERVAL = 1000 * 60 * 60 * 24;// 24h</span><br><span class="line">    private Integer[] weeks;</span><br><span class="line">    private int weeksIndex;</span><br><span class="line">    private TimerManagerCallback timerManagerCallback;</span><br><span class="line">    private static final String HOUR = &quot;hour&quot;;</span><br><span class="line">    private static final String MINUTE = &quot;minute&quot;;</span><br><span class="line">    private static final String ID = &quot;id&quot;;</span><br><span class="line">    private AlarmManager alarmManager;</span><br><span class="line">    private PendingIntent paddingIntent;</span><br><span class="line">    private TestReceiver testReceiver;</span><br><span class="line">    private Context mContext;</span><br><span class="line">    private IntentFilter filter;</span><br><span class="line">    private boolean stopFlag = false;</span><br><span class="line"></span><br><span class="line">    public void setAlarmManager(Context context, int hour, int minute) &#123;</span><br><span class="line">        Log.i(TAG, &quot;setAlarmManager: &quot;);</span><br><span class="line">        mContext = context;</span><br><span class="line"></span><br><span class="line">        //设置时间</span><br><span class="line">        Calendar calendar = Calendar.getInstance();</span><br><span class="line">        calendar.set(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get</span><br><span class="line">                (Calendar.DAY_OF_MONTH), hour, minute, 0);</span><br><span class="line"></span><br><span class="line">        testReceiver = new TestReceiver();</span><br><span class="line">        filter = new IntentFilter();</span><br><span class="line">        filter.addAction(ACTION + hour + minute);</span><br><span class="line">        mContext.registerReceiver(testReceiver, filter);</span><br><span class="line"></span><br><span class="line">        alarmManager = (AlarmManager) mContext.getSystemService(Context.ALARM_SERVICE);</span><br><span class="line">        Intent intent = new Intent(ACTION + hour + minute);</span><br><span class="line">        intent.putExtra(HOUR, hour + &quot;&quot;);</span><br><span class="line">        intent.putExtra(MINUTE, minute + &quot;&quot;);</span><br><span class="line">        intent.putExtra(ID, minute + &quot;&quot;);</span><br><span class="line">        paddingIntent = PendingIntent.getBroadcast(context, hour + minute, intent, PendingIntent.FLAG_UPDATE_CURRENT);</span><br><span class="line">        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) &#123;</span><br><span class="line">            alarmManager.setExactAndAllowWhileIdle(AlarmManager.ELAPSED_REALTIME_WAKEUP, calMethod(calendar.getTimeInMillis()), paddingIntent);</span><br><span class="line">        &#125; else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</span><br><span class="line">            alarmManager.setExact(AlarmManager.RTC_WAKEUP, calMethod(calendar.getTimeInMillis()), paddingIntent);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alarmManager.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, calMethod(calendar.getTimeInMillis()), TIME_INTERVAL, paddingIntent);</span><br><span class="line">        &#125;</span><br><span class="line">        stopFlag = false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @param dateTime 传入的是时间戳（设置当天的年月日+从选择框拿来的时分秒）</span><br><span class="line">     * @return 返回起始闹钟时间的时间戳</span><br><span class="line">     */</span><br><span class="line">    private long calMethod(long dateTime) &#123;</span><br><span class="line">        long time = 0;</span><br><span class="line">        //weekflag == 0表示是按天为周期性的时间间隔或者是一次行的，weekfalg非0时表示每周几的闹钟并以周为时间间隔</span><br><span class="line"></span><br><span class="line">        Calendar c = Calendar.getInstance();</span><br><span class="line">        int week = c.get(Calendar.DAY_OF_WEEK);</span><br><span class="line">        if (1 == week) &#123;</span><br><span class="line">            week = 7;</span><br><span class="line">        &#125; else if (2 == week) &#123;</span><br><span class="line">            week = 1;</span><br><span class="line">        &#125; else if (3 == week) &#123;</span><br><span class="line">            week = 2;</span><br><span class="line">        &#125; else if (4 == week) &#123;</span><br><span class="line">            week = 3;</span><br><span class="line">        &#125; else if (5 == week) &#123;</span><br><span class="line">            week = 4;</span><br><span class="line">        &#125; else if (6 == week) &#123;</span><br><span class="line">            week = 5;</span><br><span class="line">        &#125; else if (7 == week) &#123;</span><br><span class="line">            week = 6;</span><br><span class="line">        &#125;</span><br><span class="line">        int weekflag = 0;</span><br><span class="line">        if (weeks != null) &#123;</span><br><span class="line">            for (int i = 0; i &lt; weeks.length; i++) &#123;</span><br><span class="line">                if (weeks[i] == null) &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                if (weeks[i] == week &amp;&amp; dateTime &gt; System.currentTimeMillis()) &#123;</span><br><span class="line">                    weeksIndex = i;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                if (weeks[i] &gt; week) &#123;</span><br><span class="line">                    weeksIndex = i;</span><br><span class="line">                    break;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    weeksIndex = 0;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (weeksIndex &lt; weeks.length) &#123;</span><br><span class="line">                if (weeks[weeksIndex] != null) &#123;</span><br><span class="line">                    weekflag = weeks[weeksIndex];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (weekflag == week) &#123;</span><br><span class="line">            if (dateTime &gt; System.currentTimeMillis()) &#123;</span><br><span class="line">                time = dateTime;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                time = dateTime + 7 * 24 * 3600 * 1000;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else if (weekflag &gt; week) &#123;</span><br><span class="line">            time = dateTime + (weekflag - week) * 24 * 3600 * 1000;</span><br><span class="line">        &#125; else if (weekflag &lt; week) &#123;</span><br><span class="line">            time = dateTime + (weekflag - week + 7) * 24 * 3600 * 1000;</span><br><span class="line">        &#125;</span><br><span class="line">        return time;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWeeks(String[] weeks) &#123;</span><br><span class="line"></span><br><span class="line">        Integer[] a = new Integer[weeks.length - 1];</span><br><span class="line">        for (int i = 0; i &lt; weeks.length; i++) &#123;</span><br><span class="line">            if (!weeks[i].isEmpty()) &#123;</span><br><span class="line">                a[i - 1] = Integer.valueOf(weeks[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        this.weeks = a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void cancel() &#123;</span><br><span class="line">        if (alarmManager != null &amp;&amp; paddingIntent != null) &#123;</span><br><span class="line">            alarmManager.cancel(paddingIntent);</span><br><span class="line">        &#125;</span><br><span class="line">        if (!stopFlag &amp;&amp; mContext != null) &#123;</span><br><span class="line">            mContext.unregisterReceiver(testReceiver);</span><br><span class="line">            stopFlag = true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public interface TimerManagerCallback &#123;</span><br><span class="line">        void onReceive(TimerManager timerManager);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public class TestReceiver extends BroadcastReceiver &#123;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void onReceive(Context context, Intent intent) &#123;</span><br><span class="line">            if (timerManagerCallback != null) &#123;</span><br><span class="line">                timerManagerCallback.onReceive(TimerManager.this);</span><br><span class="line">            &#125;</span><br><span class="line">            int hour = Integer.parseInt(intent.getStringExtra(HOUR));</span><br><span class="line">            int minute = Integer.parseInt(intent.getStringExtra(MINUTE));</span><br><span class="line">            Calendar calendar = Calendar.getInstance();</span><br><span class="line">            calendar.set(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get</span><br><span class="line">                    (Calendar.DAY_OF_MONTH), hour, minute, 0);</span><br><span class="line"></span><br><span class="line">            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) &#123;</span><br><span class="line">                alarmManager.setExactAndAllowWhileIdle(AlarmManager.ELAPSED_REALTIME_WAKEUP, calMethod(calendar.getTimeInMillis()), paddingIntent);</span><br><span class="line">            &#125; else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</span><br><span class="line">                alarmManager.setExact(AlarmManager.RTC_WAKEUP, calMethod(calendar.getTimeInMillis()), paddingIntent);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                alarmManager.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, calMethod(calendar.getTimeInMillis()), TIME_INTERVAL, paddingIntent);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTimerManagerCallback(TimerManagerCallback timerManagerCallback) &#123;</span><br><span class="line">        this.timerManagerCallback = timerManagerCallback;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public TestReceiver getTestReceiver() &#123;</span><br><span class="line">        return testReceiver;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">startSlaveTimer = new TimerManager();</span><br><span class="line">    startSlaveTimer.setWeeks(new String[]&#123;&quot;&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;&#125;);</span><br><span class="line">    startSlaveTimer.setTimerManagerCallback(new TimerManager.TimerManagerCallback() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onReceive(TimerManager timerManager) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                // 这里是开启分机背光</span><br><span class="line">                Log.i(&quot;222222&quot;, &quot;定时器开启了分机背光&quot;);</span><br><span class="line"></span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    startSlaveTimer.setAlarmManager(context, Integer.parseInt(slaveTime.getStartHour()), Integer.parseInt(slaveTime.getStartMinute()));</span><br></pre></td></tr></table></figure><h4 id="取消"><a href="#取消" class="headerlink" title="取消"></a>取消</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (startSlaveTimer != null) &#123;</span><br><span class="line">         startSlaveTimer.cancel();</span><br><span class="line">         startSlaveTimer = null;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><h3 id="4-视频合并"><a href="#4-视频合并" class="headerlink" title="4.视频合并"></a><span id="appendmp4">4.视频合并</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">在api23一下没有录制视频暂停功能，需要自己合并视频</span><br><span class="line">1.引入 compile &apos;com.googlecode.mp4parser:isoparser:1.1.21&apos;//视频处理</span><br><span class="line">2.主要方法</span><br><span class="line">//将两个mp4视频进行拼接</span><br><span class="line">    public static void appendMp4(List&lt;String&gt; mMp4List,String outputpath)&#123; </span><br><span class="line">     private static List&lt;Movie&gt; moviesList = new ArrayList&lt;&gt;();</span><br><span class="line">     private static List&lt;Track&gt; videoTracks = new ArrayList&lt;&gt;(); </span><br><span class="line">     private static List&lt;Track&gt; audioTracks = new ArrayList&lt;&gt;(); </span><br><span class="line">try &#123; </span><br><span class="line">for (int i=0;i&lt;mMp4List.size();i++) &#123; </span><br><span class="line">Movie movie=MovieCreator.build(mMp4List.get(i));</span><br><span class="line"> moviesList.add(movie); </span><br><span class="line">&#125; </span><br><span class="line">&#125; catch (IOException e) &#123;</span><br><span class="line"> e.printStackTrace(); </span><br><span class="line">&#125; </span><br><span class="line">for (Movie m : moviesList) &#123; </span><br><span class="line">for (Track t : m.getTracks()) &#123; </span><br><span class="line">if (t.getHandler().equals(&quot;soun&quot;)) &#123; </span><br><span class="line">audioTracks.add(t); </span><br><span class="line">&#125; </span><br><span class="line">if (t.getHandler().equals(&quot;vide&quot;)) &#123;</span><br><span class="line"> videoTracks.add(t);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"> Movie result = new Movie();</span><br><span class="line"> try &#123; </span><br><span class="line">if (audioTracks.size() &gt; 0) &#123;</span><br><span class="line"> result.addTrack(new AppendTrack(audioTracks.toArray(new Track[audioTracks.size()]))); </span><br><span class="line">&#125; </span><br><span class="line">if (videoTracks.size() &gt; 0) &#123; </span><br><span class="line">result.addTrack(new AppendTrack(videoTracks.toArray(new Track[videoTracks.size()])));</span><br><span class="line"> &#125; </span><br><span class="line">&#125; catch (IOException e) &#123;</span><br><span class="line"> e.printStackTrace(); </span><br><span class="line">&#125; </span><br><span class="line">Container out = new DefaultMp4Builder().build(result);</span><br><span class="line"> try &#123;</span><br><span class="line"> FileChannel fc = new FileOutputStream(new File(outputpath)).getChannel(); </span><br><span class="line">out.writeContainer(fc); </span><br><span class="line">fc.close(); </span><br><span class="line">&#125; catch (Exception e) &#123; </span><br><span class="line">e.printStackTrace();</span><br><span class="line"> &#125;</span><br><span class="line"> moviesList.clear();</span><br><span class="line">videoTracks.clear();</span><br><span class="line">audioTracks.clear();</span><br><span class="line">  for (int i = 0; i &lt; mMp4List.size(); i++) &#123;</span><br><span class="line">      deleteSingleFile(mMp4List.get(i));</span><br><span class="line">   &#125;</span><br><span class="line"> &#125; </span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">* 删除单个文件</span><br><span class="line">* @param filePathName 要删除的文件的文件名</span><br><span class="line">* @return 单个文件删除成功返回true，否则返回false  </span><br><span class="line">*/</span><br><span class="line">    </span><br><span class="line">private static void deleteSingleFile(String filePathName) &#123;</span><br><span class="line"> try &#123;</span><br><span class="line"> File file = new File(filePathName);</span><br><span class="line"> // 如果文件路径所对应的文件存在，并且是一个文件，则直接删除</span><br><span class="line">  if (file.exists() &amp;&amp; file.isFile()) &#123;</span><br><span class="line">  if (file.delete()) &#123;</span><br><span class="line">// Log.e(TAG, &quot;删除单个文件&quot; + filePathName + &quot;成功！&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125; catch (Exception e) &#123;</span><br><span class="line">     e.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="5-方法执行超过指定时间"><a href="#5-方法执行超过指定时间" class="headerlink" title="5.方法执行超过指定时间"></a><span id="muchtime">5.方法执行超过指定时间</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//执行超时的方法</span><br><span class="line">   ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line">                    Future&lt;String&gt; future = executorService.submit(task);</span><br><span class="line">                    try &#123;</span><br><span class="line">                        //3秒内没有执行完则抛超时异常</span><br><span class="line">                        String result = future.get(2, TimeUnit.SECONDS);</span><br><span class="line">                        Log.d(TAG, &quot;设置的result是：&quot; + result);</span><br><span class="line"></span><br><span class="line">                    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                        Log.d(TAG, &quot;超时异常1：&quot; + e.toString());</span><br><span class="line"></span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125; catch (ExecutionException e) &#123;</span><br><span class="line">                        Log.d(TAG, &quot;超时异常2：&quot; + e.toString());</span><br><span class="line"></span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125; catch (TimeoutException e) &#123;</span><br><span class="line">                        Log.d(TAG, &quot;超时异常3：&quot; + e.toString());</span><br><span class="line">                        //这里可以做超时后执行操作</span><br><span class="line">//                        Looper.prepare();</span><br><span class="line">                        Toast.makeText(getApplicationContext(), &quot;摄像头出现问题，请检查摄像头&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">//                        Looper.loop();</span><br><span class="line">                        kill_camera();</span><br><span class="line">                        this.finish();</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">    Callable&lt;String&gt; task = new Callable&lt;String&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public String call() throws Exception &#123;</span><br><span class="line">            start();//执行的任务</span><br><span class="line">            return &quot;success&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>阿里云Tomcat部署与配置</title>
    <link href="http://yoursite.com/2018/11/08/%E9%98%BF%E9%87%8C%E4%BA%91Tomcat%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2018/11/08/阿里云Tomcat部署与配置/</id>
    <published>2018-11-08T15:11:14.000Z</published>
    <updated>2019-08-25T13:36:44.006Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/cat.jpg" class="[smile]" title="cat"><h3 id="1-下载"><a href="#1-下载" class="headerlink" title="1.下载"></a>1.下载</h3><p>下载两个文件<br>apache-tomcat-8.5.34.tar.gz<br>jdk-8u181-linux-x64.tar.gz<br>使用工具复制到/usr/local/java文件夹</p><h3 id="2-安装java"><a href="#2-安装java" class="headerlink" title="2.安装java"></a>2.安装java</h3><h5 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-8u181-linux-x64.tar.gz</span><br></pre></td></tr></table></figure><h5 id="配置Java环境变量-进入编辑-vim-etc-profile"><a href="#配置Java环境变量-进入编辑-vim-etc-profile" class="headerlink" title="配置Java环境变量 进入编辑 vim /etc/profile"></a>配置Java环境变量 进入编辑 vim /etc/profile</h5><p>在文件最后添加下面的内容<br>(i 编辑,Esc 退出,:wq 保存退出,:q!退出)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/java/jdk路径</span><br><span class="line">export JRE_HOME=/usr/java/jdk路径/jre</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH</span><br><span class="line">export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH</span><br></pre></td></tr></table></figure></p><p>添加完成后，使环境变量生效<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></p><h5 id="检测是否成功"><a href="#检测是否成功" class="headerlink" title="检测是否成功"></a>检测是否成功</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><h3 id="3-安装tomcat"><a href="#3-安装tomcat" class="headerlink" title="3.安装tomcat"></a>3.安装tomcat</h3><h5 id="解压-1"><a href="#解压-1" class="headerlink" title="解压"></a>解压</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf apache-tomcat-8.5.34.tar.gz</span><br></pre></td></tr></table></figure><p>进入tomcat路径/bin<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./startup.sh //启动命令</span><br><span class="line">./shutdown.sh //停止命令</span><br></pre></td></tr></table></figure></p><p>(注意：失败请检查8080端口是否开放)</p><h3 id="4-配置直接通过地址访问"><a href="#4-配置直接通过地址访问" class="headerlink" title="4.配置直接通过地址访问"></a>4.配置直接通过地址访问</h3><p>进入conf修改server.xml<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> &lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; //端口改为80(需开放80端口)</span><br><span class="line"> &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;地址/域名&quot;&gt; //地址</span><br><span class="line"> &lt;Host name=&quot;地址/域名&quot;  appBase=&quot;webapps&quot;</span><br><span class="line">            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;</span><br><span class="line">&lt;Context path=&quot;&quot; docBase=&quot;/usr/local/tomcat/apache-tomcat-7.0.85/webapps/项目名&quot; debug=&quot;0&quot; reloadable=&quot;true&quot; /&gt; //在Host之间加上</span><br></pre></td></tr></table></figure></p><h3 id="5-Tomcat-开机启动"><a href="#5-Tomcat-开机启动" class="headerlink" title="5.Tomcat 开机启动"></a>5.Tomcat 开机启动</h3><p>关闭Tomcat<br>编辑vim /etc/rc.d/rc.local<br>添加以下内容<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/jdk路径</span><br><span class="line">export JRE_HOME=$JAVA_HOME/jre</span><br><span class="line">sh /usr/local/tomcat路径/bin/startup.sh</span><br></pre></td></tr></table></figure></p><p>（rc.local需要有执行权限 chmod +x rc.local）<br>重启机器即可启动Tomcat</p><p>Tomcat日志在logs目录，进入目录查看日志：<br>tail -f catalina.out  </p><p>Mysql安装级部署参考下面链接<br><a href="https://blog.csdn.net/sihai12345/article/details/73381151?tdsourcetag=s_pcqq_aiomsg" target="_blank" rel="noopener">阿里云服务器配置Mysql</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>记国庆江西婺源-三清山游</title>
    <link href="http://yoursite.com/2018/10/14/%E8%AE%B0%E5%9B%BD%E5%BA%86%E6%B1%9F%E8%A5%BF%E5%A9%BA%E6%BA%90-%E4%B8%89%E6%B8%85%E5%B1%B1%E6%B8%B8/"/>
    <id>http://yoursite.com/2018/10/14/记国庆江西婺源-三清山游/</id>
    <published>2018-10-13T18:43:17.000Z</published>
    <updated>2019-05-30T14:27:59.244Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><p>老同学被网上篁岭”晒秋”的照片吸引了，于是没有过多的准备，乘着十一放假我们一时兴起相约去婺源看”晒秋”。</p><h3 id="October-3rd"><a href="#October-3rd" class="headerlink" title="October 3rd"></a>October 3rd</h3><p>从合肥坐高铁到江西婺源，江西这边山很多，火车经过了很多个隧道。下午坐车去婺源的精华：篁岭<br><img src="http://image.zcc.ac.cn/guoqing_1.jpg" class="[images_hl]" title="篁岭"><br>阶梯村落<br><img src="http://image.zcc.ac.cn/guoqing_2.jpg" class="[images_hl]" title="篁岭"><br><img src="http://image.zcc.ac.cn/guoqing_3.jpg" class="[images_hl]" title="篁岭"><br><img src="http://image.zcc.ac.cn/guoqing_4.jpg" class="[images_hl]" title="篁岭"><br>晒秋<br><img src="http://image.zcc.ac.cn/guoqing_5.jpg" class="[images_hl]" title="篁岭"><br><img src="http://image.zcc.ac.cn/guoqing_6.jpg" class="[images_hl]" title="篁岭"><br><img src="http://image.zcc.ac.cn/guoqing_7.jpg" class="[images_hl]" title="篁岭"><br><img src="http://image.zcc.ac.cn/guoqing_8.jpg" class="[images_hl]" title="篁岭"><br><img src="http://image.zcc.ac.cn/guoqing_9.jpg" class="[images_hl]" title="篁岭"><br>ps:婺源站和婺源老北汽车站都有车去篁岭,国庆去玩的人太多了,七公里的路堵车堵了一个多小时,然后上下缆车都排队等了一个多小时。景点里看到的几乎都是人头啊,回来的时候天都黑了,路上司机说今天的人还不是最多的,去年油菜花开的时候来的人才是人山人海😂</p><h3 id="October-4th"><a href="#October-4th" class="headerlink" title="October 4th"></a>October 4th</h3><p>昨晚我们商量了很久，未来两天是继续在婺源玩，还是去三清山，我的想法是呆在婺源转转其他地方，同学的意思是婺源的精华篁岭已经看过了，其他地方都不值一提了，不如去就近的上饶三清山玩玩。于是我们最终决定第二天早起去汽车站能买到去三清山的票就去，买不到就继续呆在婺源玩。说来也巧，那天早上的最后一张票被我们买到了😂。于是我们坐上了汽车,约一个小时到达目的地—-江西上饶–三清山<br><img src="http://image.zcc.ac.cn/guoqing_10.jpg" class="[images_sqs]" title="三清山"><br>三清山需要爬楼梯的路段不多,大多是类似上图的平缓的环山路线<br><img src="http://image.zcc.ac.cn/guoqing_11.jpg" class="[images_sqs]" title="三清山"><br>风景秀丽令人心旷神怡<br><img src="http://image.zcc.ac.cn/guoqing_12.jpg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_13.jpeg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_15.jpeg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_16.jpg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_17.jpg" class="[images_sqs]" title="三清山"><br>晚上在山顶住帐篷,空气特别好可以看见满天的星星,就是夜里有点冷<br><img src="http://image.zcc.ac.cn/guoqing_18.jpg" class="[images_sqs]" title="三清山"><br>ps:1.一天走了近3.5万步，腿很酸<br>   2.十一人多，山上供水不足，没有水洗澡，只能随便洗个脸</p><h3 id="October-5th"><a href="#October-5th" class="headerlink" title="October 5th"></a>October 5th</h3><p>早起看日出<br><img src="http://image.zcc.ac.cn/guoqing_19.jpg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_20.jpg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_21.jpg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_22.jpg" class="[images_sqs]" title="三清山"><br><img src="http://image.zcc.ac.cn/guoqing_23.jpg" class="[images_sqs]" title="三清山"><br>最后合影留恋，记这次走到哪算哪没有计划的旅行😂<br><img src="http://image.zcc.ac.cn/guoqing_00.jpg" class="[images_sqs]" title="三清山"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="生活" scheme="http://yoursite.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>Android问题与解答3</title>
    <link href="http://yoursite.com/2018/10/08/Android%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E7%AD%943/"/>
    <id>http://yoursite.com/2018/10/08/Android问题与解答3/</id>
    <published>2018-10-07T16:42:31.000Z</published>
    <updated>2019-07-21T16:41:35.693Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/yellowClothes.jpg" class="[images]" title="yellowClothes"><p><a href="#greendao">1.GreenDao2.0的使用</a><br><a href="#SeekBar">2.自定义拖动条</a><br><a href="#changeText">3.自定义字体</a></p><h3 id="GreenDao2-0的使用"><a href="#GreenDao2-0的使用" class="headerlink" title=" GreenDao2.0的使用"></a><span id="greendao"> GreenDao2.0的使用</span></h3><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>1.Android 数据库建表时int 型使用long </p><h4 id="1-导入依赖包"><a href="#1-导入依赖包" class="headerlink" title="1.导入依赖包"></a>1.导入依赖包</h4><p>compile ‘de.greenrobot:greendao: 2.0.0’<br>compile ‘de.greenrobot:greendao-generator: 2.0.0’</p><h4 id="2-GreenDaoGenerator添加表"><a href="#2-GreenDaoGenerator添加表" class="headerlink" title="2.GreenDaoGenerator添加表"></a>2.GreenDaoGenerator添加表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class GreenDaoGenerator &#123;</span><br><span class="line">    //model类包包</span><br><span class="line">    private static final String DEFAULT_MODEL_PACKET = &quot;com.lonbon.smartcarer.db.model&quot;;</span><br><span class="line">    //数据库包</span><br><span class="line">    private static final String DEFAULT_DAO_PACKET = &quot;com.lonbon.smartcarer.db.dao&quot;;</span><br><span class="line">    //项目Java文件夹</span><br><span class="line">    private static final String PATH = &quot;nnv_smartcarer/src/main/java&quot;;</span><br><span class="line">    //数据库版本</span><br><span class="line">    private static final int VERSION = 6;</span><br><span class="line"></span><br><span class="line">//在addEntity添加好表后点击下面的运行按钮即可在上面设置好的路径目录生成对应的类</span><br><span class="line"> ▲   public static void main(String args[]) throws Exception &#123;</span><br><span class="line">        Schema schema = new Schema(VERSION, DEFAULT_MODEL_PACKET);</span><br><span class="line">        schema.setDefaultJavaPackageDao(DEFAULT_DAO_PACKET);</span><br><span class="line">        schema.enableKeepSectionsByDefault();</span><br><span class="line">        addEntity(schema);</span><br><span class="line">        File file = new File(PATH);</span><br><span class="line">        if (!file.exists()) &#123;</span><br><span class="line">            file.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        new DaoGenerator().generateAll(schema, PATH);</span><br><span class="line">    &#125;</span><br><span class="line">    private static void addEntity(Schema schema) &#123;</span><br><span class="line">        //配置表</span><br><span class="line">        Entity config = schema.addEntity(&quot;Config&quot;);//表名</span><br><span class="line">        config.setTableName(&quot;CONFIG&quot;);//表名</span><br><span class="line">        config.addLongProperty(&quot;id&quot;).primaryKey();//1.Android 数据库建表时int 型使用long </span><br><span class="line">        config.addStringProperty(&quot;section&quot;).notNull();</span><br><span class="line">        config.addStringProperty(&quot;key&quot;).notNull();</span><br><span class="line">        config.addStringProperty(&quot;value&quot;);</span><br><span class="line">        config.addBooleanProperty(&quot;isChanged&quot;);</span><br><span class="line">        config.addStringProperty(&quot;last_modify&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-在helper文件夹新建helper类-sql语句"><a href="#3-在helper文件夹新建helper类-sql语句" class="headerlink" title="3.在helper文件夹新建helper类,sql语句"></a>3.在helper文件夹新建helper类,sql语句</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">public class ContactsHelper &#123;</span><br><span class="line">    private static DaoMaster daoMaster;</span><br><span class="line">    private static DaoSession daoSession;</span><br><span class="line">    private static ContactsHelper instance;</span><br><span class="line">    private ContactsDao mContactsDao;</span><br><span class="line">    private ContactsHelper(Context context) &#123;</span><br><span class="line">        if (daoMaster == null) &#123;</span><br><span class="line">//            DaoMaster.OpenHelper helper = new LBDevOpenHelper(BaseApplication.getAppContext(),</span><br><span class="line">//                    DB_NAME, null);</span><br><span class="line">            DaoMaster.OpenHelper helper = new MyOpenHelper(context,</span><br><span class="line">                    DbManager.DB_NAME, null);</span><br><span class="line">            SQLiteDatabase writableDatabase = helper.getWritableDatabase();</span><br><span class="line">            daoMaster = new DaoMaster(writableDatabase);</span><br><span class="line">        &#125;</span><br><span class="line">        if (daoSession == null) &#123;</span><br><span class="line">            daoSession = daoMaster.newSession();</span><br><span class="line">        &#125;</span><br><span class="line">        try &#123;</span><br><span class="line">            mContactsDao = daoSession.getContactsDao();</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static ContactsHelper getInstance(Context context) &#123;</span><br><span class="line">        if (instance == null) &#123;</span><br><span class="line">            instance = new ContactsHelper(context);</span><br><span class="line">        &#125;</span><br><span class="line">        return instance;</span><br><span class="line">    &#125;</span><br><span class="line">    /*添加数据*/</span><br><span class="line">    public void addContacts(Contacts contacts) &#123;</span><br><span class="line">        mContactsDao.insertOrReplace(contacts);</span><br><span class="line">    &#125;</span><br><span class="line">    /*通过id查找*/</span><br><span class="line">    public Contacts findContactsById(Long id) &#123;</span><br><span class="line">        QueryBuilder&lt;Contacts&gt; builder = mContactsDao.queryBuilder().where(ContactsDao.Properties.ContactId.eq(id));</span><br><span class="line"></span><br><span class="line">        if (builder.list() == null || builder.list().size() == 0) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return builder.list().get(0);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        /*通过手机号查找,返回图片地址*/</span><br><span class="line">    public String findContactsByPhone(String num) &#123;</span><br><span class="line">        QueryBuilder&lt;Contacts&gt; builder = mContactsDao.queryBuilder().where(ContactsDao.Properties.RelativePhone.eq(num));</span><br><span class="line"></span><br><span class="line">        if (builder.list() == null || builder.list().size() == 0) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return builder.list().get(0).getLocalPath();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    /*查找所有*/</span><br><span class="line">    public List&lt;Contacts&gt; queryAllContacts() &#123;</span><br><span class="line">        return mContactsDao.loadAll();</span><br><span class="line">    &#125;</span><br><span class="line">    /*通过id删除*/</span><br><span class="line">    public void deleteContacts(String id) &#123;</span><br><span class="line">        DeleteQuery&lt;Contacts&gt; buildDelete = mContactsDao.queryBuilder().where(ContactsDao.Properties.ContactId.eq(id)).buildDelete();</span><br><span class="line">        buildDelete.executeDeleteWithoutDetachingEntities();</span><br><span class="line">    &#125;</span><br><span class="line">    /*更新*/</span><br><span class="line">    public void updateContacts(Contacts contacts) &#123;</span><br><span class="line">        mContactsDao.update(contacts);</span><br><span class="line">    &#125;</span><br><span class="line">    /*删除所有*/</span><br><span class="line">    public void deleteAllContacts() &#123;</span><br><span class="line">        mContactsDao.deleteAll();</span><br><span class="line">    &#125;</span><br><span class="line">    /*通过id删除*/</span><br><span class="line">    public void updateLocalPath(String id, String path) &#123;</span><br><span class="line">        DeleteQuery&lt;Contacts&gt; buildDelete = mContactsDao.queryBuilder().where(ContactsDao.Properties.ContactId.eq(id)).buildDelete();</span><br><span class="line">        buildDelete.executeDeleteWithoutDetachingEntities();</span><br><span class="line">    &#125;</span><br><span class="line">    //降序排序offset忽略前多少数据,可用于翻页)</span><br><span class="line">    mCallRecordDao.queryBuilder().orderDesc(CallRecordDao.Properties.CallDate).offset(0 * 6).limit(6).list();</span><br><span class="line">    //greenDao 复杂条件查询</span><br><span class="line">    QueryBuilder&lt;ContactInfo&gt; builder = mContactInfoDao.queryBuilder()</span><br><span class="line">       .where(new WhereCondition.StringCondition(&quot;PHONE_NUM is not NULL GROUP BY PHONE_NUM&quot;))</span><br><span class="line">       .orderDesc(ContactInfoDao.Properties.Id);</span><br><span class="line">    //查询是否是true</span><br><span class="line">    QueryBuilder&lt;SettingButton&gt; builder = mSettingButtonDao.queryBuilder()</span><br><span class="line">       .where(SettingButtonDao.Properties.IsShow.eq(&quot;TRUE&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-使用"><a href="#4-使用" class="headerlink" title="4.使用"></a>4.使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private ContactsHelper mContactsHelper;</span><br><span class="line">mContactsHelper = ContactsHelper.getInstance(mContext);</span><br><span class="line">String filePath = mContactsHelper.findContactsByPhone(mData.get(position).getRelativePhone());</span><br></pre></td></tr></table></figure><h3 id="自定义拖动条"><a href="#自定义拖动条" class="headerlink" title=" 自定义拖动条"></a><span id="SeekBar"> 自定义拖动条</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;SeekBar</span><br><span class="line">             android:id=&quot;@+id/volume&quot;</span><br><span class="line">             style=&quot;@style/BcSeekBarStyle&quot;</span><br><span class="line">             android:layout_width=&quot;match_parent&quot;</span><br><span class="line">             android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">             android:layout_gravity=&quot;left|center&quot;</span><br><span class="line">             android:max=&quot;100&quot;</span><br><span class="line">             android:progress=&quot;10&quot; /&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=&quot;BcSeekBarStyle&quot; parent=&quot;@android:style/Widget.SeekBar&quot;&gt;</span><br><span class="line">       &lt;item name=&quot;android:indeterminateOnly&quot;&gt;false&lt;/item&gt;</span><br><span class="line">       &lt;item name=&quot;android:indeterminateDrawable&quot;&gt;</span><br><span class="line">           @android:drawable/progress_indeterminate_horizontal</span><br><span class="line">       &lt;/item&gt;</span><br><span class="line">       &lt;item name=&quot;android:progressDrawable&quot;&gt;@drawable/lb_seekbar_horizontal&lt;/item&gt;//进度条</span><br><span class="line">       &lt;item name=&quot;android:thumb&quot;&gt;@mipmap/lb_seekbar_button&lt;/item&gt;//按钮</span><br><span class="line">       &lt;item name=&quot;android:maxHeight&quot;&gt;10dp&lt;/item&gt;</span><br><span class="line">       &lt;item name=&quot;android:thumbOffset&quot;&gt;0dip&lt;/item&gt;</span><br><span class="line">   &lt;/style&gt;</span><br></pre></td></tr></table></figure><p>进度条<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;layer-list</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;item android:id=&quot;@android:id/background&quot; android:drawable=&quot;@mipmap/seek_bkg&quot; /&gt;//背景</span><br><span class="line">    &lt;item android:id=&quot;@android:id/secondaryProgress&quot;&gt;</span><br><span class="line">        &lt;clip&gt;</span><br><span class="line">            &lt;shape&gt;</span><br><span class="line">                &lt;corners android:radius=&quot;2.0dp&quot; /&gt;</span><br><span class="line">                &lt;gradient android:startColor=&quot;#80ffd300&quot; android:endColor=&quot;#a0ffcb00&quot; android:angle=&quot;270&quot; android:centerY=&quot;0.75&quot; android:centerColor=&quot;#80ffb600&quot; /&gt;</span><br><span class="line">            &lt;/shape&gt;</span><br><span class="line">        &lt;/clip&gt;</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line">    &lt;item android:id=&quot;@android:id/progress&quot;&gt;</span><br><span class="line">        &lt;clip android:drawable=&quot;@mipmap/lb_seek&quot; /&gt;//进度</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line">&lt;/layer-list&gt;</span><br></pre></td></tr></table></figure></p><h3 id="自定义字体"><a href="#自定义字体" class="headerlink" title=" 自定义字体"></a><span id="changeText"> 自定义字体</span></h3><p>方法1.此方法多次使用出现卡顿</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在main下新建assets/fonts,将字体放到fonts文件夹下</span><br><span class="line">       AssetManager assets = getActivity().getAssets();</span><br><span class="line">       Typeface fromAsset = Typeface.createFromAsset(assets, &quot;fonts/PingFang Regular.ttf&quot;);</span><br><span class="line">       online_order_text.setTypeface(fromAsset);</span><br></pre></td></tr></table></figure><p>方法2.缓存方法（注意：可能存在style属性无效）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class FontCache &#123;</span><br><span class="line"></span><br><span class="line">    private static HashMap&lt;String, Typeface&gt; fontCache = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public static Typeface getTypeface(String fontname, Context context) &#123;</span><br><span class="line">        Typeface typeface = fontCache.get(fontname);</span><br><span class="line">        if (typeface == null) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                typeface = Typeface.createFromAsset(context.getAssets(), fontname);</span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">                return null;</span><br><span class="line">            &#125;</span><br><span class="line">            fontCache.put(fontname, typeface);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return typeface;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p> 自定义平pingfang字体</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class PingFangTextView extends android.support.v7.widget.AppCompatTextView &#123;</span><br><span class="line"></span><br><span class="line">    public PingFangTextView(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line"></span><br><span class="line">        applyCustomFont(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public PingFangTextView(Context context, AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line"></span><br><span class="line">        applyCustomFont(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public PingFangTextView(Context context, AttributeSet attrs, int defStyle) &#123;</span><br><span class="line">        super(context, attrs, defStyle);</span><br><span class="line"></span><br><span class="line">        applyCustomFont(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void applyCustomFont(Context context) &#123;</span><br><span class="line">        Typeface customFont = FontCache.getTypeface(&quot;fonts/PingFang Regular.ttf&quot;, context);</span><br><span class="line">        setTypeface(customFont);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>SQL语法</title>
    <link href="http://yoursite.com/2018/10/07/SQL%E8%AF%AD%E6%B3%95/"/>
    <id>http://yoursite.com/2018/10/07/SQL语法/</id>
    <published>2018-10-07T15:38:03.000Z</published>
    <updated>2018-10-21T17:01:31.902Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/girl_smile.jpg" class="[smile]" title="smile"><h3 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;resultMap id=&quot;login&quot; type=&quot;com.abc.app.model.LoginBean&quot;&gt;&lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line">&lt;select id=&quot;searchLogin&quot; parameterType=&quot;Integer&quot; resultMap=&quot;login&quot;&gt;</span><br><span class="line">select * from identify where idcard=#&#123;idcard&#125;;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line"></span><br><span class="line">#查询总数</span><br><span class="line">SELECT COUNT(*) FROM inpatient</span><br></pre></td></tr></table></figure><h3 id="过滤查询"><a href="#过滤查询" class="headerlink" title="过滤查询"></a>过滤查询</h3><p>key不为空+模糊查询+limit<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">select `code`,`name`,abbr,sex,birthday,checkin_date,checkout_date from inpatient</span><br><span class="line">    &lt;where&gt;</span><br><span class="line">    &lt;if test=&quot;key != null&quot;&gt;</span><br><span class="line">`code` LIKE concat(&apos;%&apos;,#&#123;key&#125;,&apos;%&apos;) </span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;/where&gt;</span><br><span class="line">ORDER BY checkin_date desc limit #&#123;cp&#125;,10;</span><br></pre></td></tr></table></figure></p><h3 id="批量添加"><a href="#批量添加" class="headerlink" title="批量添加"></a>批量添加</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=&quot;insertInpatient&quot; parameterType=&quot;com.abc.app.model.inpatient&quot;&gt;</span><br><span class="line">   insert into `inpatient`</span><br><span class="line">   (`code`,`name`,abbr,sex,birthday,checkin_date,checkout_date)values</span><br><span class="line">   &lt;foreach collection=&quot;list&quot; item=&quot;item1&quot; index=&quot;index1&quot;</span><br><span class="line">   separator=&quot;,&quot;&gt;</span><br><span class="line">   (#&#123;item1.code&#125;,#&#123;item1.name&#125;,null,#&#123;item1.sex&#125;,#&#123;item1.birthday&#125;,DATE_SUB(now(),INTERVAL</span><br><span class="line">   10</span><br><span class="line">   DAY),null)</span><br><span class="line">   &lt;/foreach&gt;</span><br><span class="line">   &lt;/insert&gt;</span><br></pre></td></tr></table></figure><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;delete id=&quot;deleteInpation&quot; parameterType=&quot;String&quot;&gt;</span><br><span class="line">delete from</span><br><span class="line">inpatient where `code`=#&#123;code&#125;;</span><br><span class="line">&lt;/delete&gt;</span><br></pre></td></tr></table></figure><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id=&quot;changeInpation&quot; parameterType=&quot;Map&quot;&gt;</span><br><span class="line">update inpatient</span><br><span class="line">set</span><br><span class="line">checkout_date=now(),last_modify=now(),nurse=#&#123;nurse&#125;</span><br><span class="line">where</span><br><span class="line">`code`=#&#123;code&#125;;</span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></table></figure><h3 id="更新1-54随机数"><a href="#更新1-54随机数" class="headerlink" title="更新1-54随机数"></a>更新1-54随机数</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id=&quot;updateRandom&quot; parameterType=&quot;String&quot;&gt;</span><br><span class="line">update web_dict set</span><br><span class="line">random = (Select Round(Rand()*(53)+1,0)) where id=1;</span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></table></figure><h3 id="查找过去七天的登陆数"><a href="#查找过去七天的登陆数" class="headerlink" title="查找过去七天的登陆数"></a>查找过去七天的登陆数</h3><p> 为解决日期登陆数为空时不显示0条数据问题</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE num (i int);-- 创建一个表用来储存0-9的数字</span><br><span class="line">INSERT INTO num (i) VALUES (0), (1), (2), (3), (4), (5), (6), (7), (8), (9);-- 生成0-9的数字，方便以后计算时间 </span><br><span class="line"></span><br><span class="line">CREATE TABLE  if not exists calendar(day_by_day date); -- 生成一个存储日期的表，datalist是字段名 -- 这里是生成并插入日期数据 </span><br><span class="line">INSERT INTO calendar(day_by_day) SELECT</span><br><span class="line">    adddate(</span><br><span class="line">        ( </span><br><span class="line">            DATE_FORMAT(&quot;2018-9-1&quot;, &apos;%Y-%m-%d&apos;) </span><br><span class="line">        ),</span><br><span class="line">        numlist.id</span><br><span class="line">    ) AS `date`</span><br><span class="line">FROM</span><br><span class="line">    (</span><br><span class="line">        SELECT</span><br><span class="line">            n1.i + n10.i * 10 + n100.i * 100 + n1000.i * 1000+ n10000.i * 10000 AS id</span><br><span class="line">        FROM</span><br><span class="line">            num n1</span><br><span class="line">        CROSS JOIN num AS n10</span><br><span class="line">        CROSS JOIN num AS n100</span><br><span class="line">        CROSS JOIN num AS n1000</span><br><span class="line">        CROSS JOIN num AS n10000</span><br><span class="line">    ) AS numlist;</span><br></pre></td></tr></table></figure>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectDayCount&quot; parameterType=&quot;String&quot;</span><br><span class="line">resultType=&quot;com.abc.app.model.Day_count&quot;&gt;</span><br><span class="line">select day_by_day ,a.count from calendar</span><br><span class="line">left JOIN (select</span><br><span class="line">date_format(time,&apos;%Y-%m-%d&apos;) as</span><br><span class="line">day_time, count(1) as count</span><br><span class="line">from</span><br><span class="line">login_info</span><br><span class="line">&lt;![CDATA[</span><br><span class="line">where time &gt;= date(now()) - interval 7 day group by</span><br><span class="line">day(time)) as a</span><br><span class="line">on calendar.day_by_day = a.day_time</span><br><span class="line">where day_by_day &gt;=</span><br><span class="line">CURDATE() - INTERVAL 6 DAY</span><br><span class="line">and day_by_day &lt;=CURDATE()</span><br><span class="line">]]&gt;</span><br><span class="line">ORDER BY</span><br><span class="line">day_by_day asc ;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><h3 id="查找今天的信息个数"><a href="#查找今天的信息个数" class="headerlink" title="查找今天的信息个数"></a>查找今天的信息个数</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectTodaySMSCount&quot; parameterType=&quot;String&quot;</span><br><span class="line"> resultType=&quot;int&quot;&gt;</span><br><span class="line"> select COUNT(1)as count FROM web_sms where</span><br><span class="line"> phone=#&#123;phone&#125; and</span><br><span class="line"> to_days(time) = to_days(now());</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Android问题与解答2</title>
    <link href="http://yoursite.com/2018/09/25/Android%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E7%AD%942/"/>
    <id>http://yoursite.com/2018/09/25/Android问题与解答2/</id>
    <published>2018-09-24T16:17:44.000Z</published>
    <updated>2018-10-21T17:01:31.814Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/highway.jpg" class="[images]" title="highway"><p><a href="#circulation">1.循环遍历元素并设置</a><br><a href="#EditText">2.EditText回车触发</a><br><a href="#activity">3.Activity处理adapter回调点击事件</a><br><a href="#imageDownload">4.图片下载</a></p><h3 id="循环遍历元素并设置（直接子元素）"><a href="#循环遍历元素并设置（直接子元素）" class="headerlink" title="循环遍历元素并设置（直接子元素）"></a><span id="circulation">循环遍历元素并设置（直接子元素）</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">int count = line2.getChildCount();</span><br><span class="line">                    for (int i = 0; i &lt; count; i++) &#123;</span><br><span class="line">                        View view = line2.getChildAt(i);</span><br><span class="line">                        if (view instanceof EditText) &#123;</span><br><span class="line">                            editOnOff((EditText) view, isChecked);</span><br><span class="line">                        &#125; else if (view instanceof TextView) &#123;</span><br><span class="line">                            colorView((TextView) view, isChecked);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void editOnOff(EditText view, Boolean isChecked) &#123;</span><br><span class="line"></span><br><span class="line">        if (isChecked) &#123;</span><br><span class="line">            view.setEnabled(true);</span><br><span class="line">            view.setFocusable(true);</span><br><span class="line">            view.setFocusableInTouchMode(true);</span><br><span class="line">            view.requestFocus();</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            view.setEnabled(false);</span><br><span class="line">            view.setFocusable(false);</span><br><span class="line">            view.setFocusableInTouchMode(false);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="EditText回车触发"><a href="#EditText回车触发" class="headerlink" title="EditText回车触发"></a><span id="EditText">EditText回车触发</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">upTime.setOnEditorActionListener(new TextView.OnEditorActionListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) &#123;</span><br><span class="line">                int ss = Integer.parseInt(v.getText() + &quot;&quot;);</span><br><span class="line">                if (ss &gt; 240) &#123;</span><br><span class="line">                    upTime.setText(&quot;240&quot;);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    upTime.setText(ss);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">upTime.setSelection(upTime.getText().length());</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h3 id="Activity处理adapter回调点击事件"><a href="#Activity处理adapter回调点击事件" class="headerlink" title="Activity处理adapter回调点击事件"></a><span id="activity">Activity处理adapter回调点击事件</span></h3><h5 id="1-首先adapter里定义一个接口"><a href="#1-首先adapter里定义一个接口" class="headerlink" title="1.首先adapter里定义一个接口"></a>1.首先adapter里定义一个接口</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">private ClickListener clickListener;</span><br><span class="line">    </span><br><span class="line">   public interface ClickListener &#123;</span><br><span class="line">       void onClick(int position);</span><br><span class="line">   &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">   public ImageItemAdapter(int resourceId, List&lt;Contacts&gt; list, Context context,ClickListener clickListener) &#123;</span><br><span class="line">       this.resourceId = resourceId;</span><br><span class="line">       this.list = list;</span><br><span class="line">       this.context = context;</span><br><span class="line">       this.ClickListener=clickListener;</span><br><span class="line">   &#125;</span><br><span class="line">    </span><br><span class="line">       holder.contacts_line.setOnClickListener(new View.OnClickListener() &#123;</span><br><span class="line">               @Override</span><br><span class="line">               public void onClick(View v) &#123;</span><br><span class="line">                   ClickListener.onClick(position);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;);</span><br></pre></td></tr></table></figure><h5 id="2-Activity实现这个接口"><a href="#2-Activity实现这个接口" class="headerlink" title="2.Activity实现这个接口"></a>2.Activity实现这个接口</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">implements CellAdapter.ClickListener </span><br><span class="line"></span><br><span class="line">adapter = new ImageItemAdapter(R.layout.item_directories_image_list, list, getActivity(),this);</span><br></pre></td></tr></table></figure><h3 id="图片下载"><a href="#图片下载" class="headerlink" title="图片下载"></a><span id="imageDownload">图片下载</span></h3><h5 id="1-启动图片下载线程"><a href="#1-启动图片下载线程" class="headerlink" title="1.启动图片下载线程"></a>1.启动图片下载线程</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">private void onDownLoad(final Contacts contacts) &#123;</span><br><span class="line">    Log.i(TAG, &quot;22222:启动图片下载线程&quot;);</span><br><span class="line">    DownLoadImageService service = new DownLoadImageService(getActivity(),</span><br><span class="line">            contacts.getChildPhoto(), new ImageDownLoadCallBack() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onDownLoadSuccess(File file) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                File files = new Compressor(getActivity())//压缩图片的依赖</span><br><span class="line">                        .setMaxWidth(120)</span><br><span class="line">                        .setMaxHeight(90)</span><br><span class="line">                        .setQuality(10)//图片质量</span><br><span class="line">                        .setCompressFormat(Bitmap.CompressFormat.WEBP)</span><br><span class="line">                        .setDestinationDirectoryPath(Environment.getExternalStoragePublicDirectory(</span><br><span class="line">                                Environment.DIRECTORY_PICTURES).getAbsolutePath())</span><br><span class="line">                        .compressToFile(file);</span><br><span class="line">    </span><br><span class="line">                contacts.setLocalPath(files.getAbsolutePath());</span><br><span class="line">                mContactsHelper.updateContacts(contacts);//保存路径进数据库</span><br><span class="line">    </span><br><span class="line">                //Log.e(TAG, &quot;22222压缩后大小:&quot; + files.length());</span><br><span class="line">                //Log.e(TAG, &quot;22222压缩后文件路径:&quot; + files.getPath());</span><br><span class="line">                //Log.e(TAG, &quot;22222压缩后文件绝对路径:&quot; + files.getAbsolutePath());</span><br><span class="line">            &#125; catch (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        @Override</span><br><span class="line">        public void onDownLoadSuccess(Bitmap bitmap) &#123;</span><br><span class="line">            Log.i(TAG, &quot;文件路径&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        @Override</span><br><span class="line">        public void onDownLoadFailed() &#123;</span><br><span class="line">            // 图片保存失败</span><br><span class="line">            Log.i(TAG, &quot;222222失败了&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    //启动图片下载线程</span><br><span class="line">    new Thread(service).start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-图片下载服务类"><a href="#2-图片下载服务类" class="headerlink" title="2.图片下载服务类"></a>2.图片下载服务类</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">public class DownLoadImageService implements Runnable &#123;</span><br><span class="line">    private String url;</span><br><span class="line">    private Context context;</span><br><span class="line">    private ImageDownLoadCallBack callBack;</span><br><span class="line">    private File currentFile;</span><br><span class="line">    public DownLoadImageService(Context context, String url, ImageDownLoadCallBack callBack) &#123;</span><br><span class="line">        this.url = url;</span><br><span class="line">        this.callBack = callBack;</span><br><span class="line">        this.context = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        File file = null;</span><br><span class="line">        Bitmap bitmap = null;</span><br><span class="line">        try &#123;</span><br><span class="line">//            file = Glide.with(context)</span><br><span class="line">//                    .load(url)</span><br><span class="line">//                    .downloadOnly(Target.SIZE_ORIGINAL, Target.SIZE_ORIGINAL)</span><br><span class="line">//                    .get();</span><br><span class="line">            bitmap = Glide.with(context)</span><br><span class="line">                    .load(url)</span><br><span class="line">                    .asBitmap()</span><br><span class="line">                    .into(Target.SIZE_ORIGINAL, Target.SIZE_ORIGINAL)</span><br><span class="line">                    .get();</span><br><span class="line">            if (bitmap != null)&#123;</span><br><span class="line">                // 在这里执行图片保存方法</span><br><span class="line">                saveImageToGallery(context,bitmap);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">//            if (file != null) &#123;</span><br><span class="line">//                callBack.onDownLoadSuccess(file);</span><br><span class="line">//            &#125; else &#123;</span><br><span class="line">//                callBack.onDownLoadFailed();</span><br><span class="line">//            &#125;</span><br><span class="line">            if (bitmap != null &amp;&amp; currentFile.exists()) &#123;</span><br><span class="line">                callBack.onDownLoadSuccess(currentFile);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                callBack.onDownLoadFailed();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void saveImageToGallery(Context context, Bitmap bmp) &#123;</span><br><span class="line">        // 首先保存图片</span><br><span class="line">         File file = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsoluteFile();//注意小米手机必须这样获得public绝对路径</span><br><span class="line">        String fileName = &quot;新建文件夹&quot;;</span><br><span class="line">        File appDir = new File(file ,fileName);</span><br><span class="line">        if (!appDir.exists()) &#123;</span><br><span class="line">            appDir.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        String fm = System.currentTimeMillis() + &quot;.jpg&quot;;</span><br><span class="line">        currentFile = new File(appDir, fm);</span><br><span class="line"></span><br><span class="line">        FileOutputStream fos = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            fos = new FileOutputStream(currentFile);</span><br><span class="line">            bmp.compress(Bitmap.CompressFormat.JPEG, 100, fos);</span><br><span class="line">            fos.flush();</span><br><span class="line">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                if (fos != null) &#123;</span><br><span class="line">                    fos.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; catch (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 其次把文件插入到系统图库</span><br><span class="line">//        try &#123;</span><br><span class="line">//            MediaStore.Images.Media.insertImage(context.getContentResolver(),</span><br><span class="line">//                    currentFile.getAbsolutePath(), fileName, null);</span><br><span class="line">//        &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">//            e.printStackTrace();</span><br><span class="line">//        &#125;</span><br><span class="line"></span><br><span class="line">        // 最后通知图库更新</span><br><span class="line">        context.sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE,</span><br><span class="line">                Uri.fromFile(new File(currentFile.getPath()))));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="增加闪烁动画封装"><a href="#增加闪烁动画封装" class="headerlink" title="增加闪烁动画封装"></a>增加闪烁动画封装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">class InitAnimation &#123;</span><br><span class="line">        private Button mButton;</span><br><span class="line">        private String text;</span><br><span class="line"></span><br><span class="line">        private int centerDrawable;</span><br><span class="line">        private int backGroundDrawable;</span><br><span class="line">        private BtnBgRes res;</span><br><span class="line">        public ValueAnimator animator;</span><br><span class="line"></span><br><span class="line">        public InitAnimation(Button button, String text, int centerDrawable, int backGroundDrawable, BtnBgRes res) &#123;</span><br><span class="line">//要闪烁的按钮,按钮中间的文字(初始化文字),按钮中间的图标(初始化图标),背景(初始化背景),btnbgres(闪烁的多幅图片替换)</span><br><span class="line">            this.text = text;</span><br><span class="line">            this.mButton = button;</span><br><span class="line">            this.centerDrawable = centerDrawable;</span><br><span class="line">            this.backGroundDrawable = backGroundDrawable;</span><br><span class="line">            this.res = res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public boolean isAnimation() &#123;</span><br><span class="line">            boolean flag = false;</span><br><span class="line">            if (animator != null &amp;&amp; animator.isRunning()) &#123;</span><br><span class="line">                flag = true;</span><br><span class="line">            &#125;</span><br><span class="line">            return flag;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void startAnimation() &#123;</span><br><span class="line">//        main_help.setText(res.getTextState());</span><br><span class="line">            mButton.setText(&quot;&quot;);</span><br><span class="line">            Drawable helpImg = getResources().getDrawable(centerDrawable);</span><br><span class="line">            helpImg.setBounds(0, 50, 150, 200);</span><br><span class="line">            mButton.setCompoundDrawables(null, null, null, null);</span><br><span class="line"></span><br><span class="line">            if (animator != null &amp;&amp; animator.isRunning()) &#123;</span><br><span class="line">                animator.cancel();</span><br><span class="line">            &#125;</span><br><span class="line">            startDrawable = ContextCompat.getDrawable(getActivity(), res.getStartDrawable());</span><br><span class="line">            endDrawable = ContextCompat.getDrawable(getActivity(), res.getEndDrawable());</span><br><span class="line">            animator = ValueAnimator.ofObject(new BackgroundEvaluator(), startDrawable, endDrawable);</span><br><span class="line">            animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123;</span><br><span class="line">                @Override</span><br><span class="line">                public void onAnimationUpdate(ValueAnimator animation) &#123;</span><br><span class="line">//                Log.d(TAG, &quot;Animation:----&gt;start&quot;);</span><br><span class="line">                    mButton.setBackground((Drawable) animation.getAnimatedValue());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            animator.setDuration(1500);   //毫秒</span><br><span class="line">            animator.setRepeatCount(ValueAnimator.INFINITE);  //无限循环</span><br><span class="line">            animator.start();</span><br><span class="line">//        talkState.setText(res.getTextState());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void stopAnimation() &#123;</span><br><span class="line">            if (isAnimation()) &#123;</span><br><span class="line">                animator.cancel();</span><br><span class="line">            &#125;</span><br><span class="line">            Drawable helpImg = getResources().getDrawable(centerDrawable);</span><br><span class="line">//            R.drawable.alarm</span><br><span class="line">            mButton.setBackgroundResource(backGroundDrawable);</span><br><span class="line">//            R.drawable.bt_shape_red</span><br><span class="line">            helpImg.setBounds(0, 50, 150, 200);</span><br><span class="line">            mButton.setCompoundDrawables(null, helpImg, null, null);</span><br><span class="line">            mButton.setText(text);</span><br><span class="line">//            getResources().getString(R.string.home_button_alarm_help);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="相关类"><a href="#相关类" class="headerlink" title="相关类"></a>相关类</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class BtnBgRes &#123;</span><br><span class="line">    private String textState;</span><br><span class="line">    private int startDrawable;</span><br><span class="line">    private int endDrawable;</span><br><span class="line"></span><br><span class="line">    public BtnBgRes(String textState, int startDrawable, int endDrawable) &#123;</span><br><span class="line">        this.textState = textState;</span><br><span class="line">        this.startDrawable = startDrawable;</span><br><span class="line">        this.endDrawable = endDrawable;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTextState() &#123;</span><br><span class="line">        return textState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTextState(String textState) &#123;</span><br><span class="line">        this.textState = textState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getStartDrawable() &#123;</span><br><span class="line">        return startDrawable;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setStartDrawable(int startDrawable) &#123;</span><br><span class="line">        this.startDrawable = startDrawable;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getEndDrawable() &#123;</span><br><span class="line">        return endDrawable;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setEndDrawable(int endDrawable) &#123;</span><br><span class="line">        this.endDrawable = endDrawable;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="类描述：背景图片求值器"><a href="#类描述：背景图片求值器" class="headerlink" title="类描述：背景图片求值器"></a>类描述：背景图片求值器</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class BackgroundEvaluator implements TypeEvaluator &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public Object evaluate(float fraction, Object startValue, Object endValue) &#123;</span><br><span class="line">        Drawable startDrawable = (Drawable) startValue;</span><br><span class="line">        Drawable endDrawable = (Drawable) endValue;</span><br><span class="line">        if (fraction &lt;= 0.7) &#123;</span><br><span class="line">            return startDrawable;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return endDrawable;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>我的ps学习之路</title>
    <link href="http://yoursite.com/2018/08/20/%E6%88%91%E7%9A%84ps%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/"/>
    <id>http://yoursite.com/2018/08/20/我的ps学习之路/</id>
    <published>2018-08-20T05:44:45.000Z</published>
    <updated>2018-10-21T17:01:31.849Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>   突然翻到自己大学时候的ps图片，发现自己毕业之后已经很少去动Photoshop了，想把自己之前的东西整理一下。</p><h4 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h4><p> 2015年的那个寒假，一个普通的寒假，拿着从学校图书馆借的几本《Photoshop从入门到放弃》认真地学习了起来。新世界的大门自此打开。😂</p><h4 id="我的PS"><a href="#我的PS" class="headerlink" title="我的PS"></a>我的PS</h4><p> 2015-03-06 安妮与蜘蛛侠<br> <img src="http://image.zcc.ac.cn/myps_1.jpg" class="[images_ps]" title="安妮与蜘蛛侠"></p><p> 2015-04-01 愚人节<br>  <img src="http://image.zcc.ac.cn/myps_2.jpg" class="[images_ps]" title="愚人节"></p><p> 2015-04-17 室友<br>  <img src="http://image.zcc.ac.cn/myps_3.jpg" class="[images_ps]" title="室友"></p><p> 2015-05-14 小人国<br>  <img src="http://image.zcc.ac.cn/myps_4.jpg" class="[images_ps]" title="小人国"><br> <img src="http://image.zcc.ac.cn/myps_5.jpg" class="[images_ps]" title="小人国"><br> <img src="http://image.zcc.ac.cn/myps_6.jpg" class="[images_ps]" title="小人国"><br> <img src="http://image.zcc.ac.cn/myps_7.jpg" class="[images_ps]" title="小人国"></p><p> 2015-08-08 破碎<br>  <img src="http://image.zcc.ac.cn/myps_8.jpg" class="[images_ps]" title="破碎"></p><p>  慢慢的好多同学都找我P图，我也很乐于帮助啊，有时会也顺手帮他们搞个表情包什么的😂。<br>  期间也学了点视频的制作😝</p><h4 id="我的视频"><a href="#我的视频" class="headerlink" title="我的视频"></a>我的视频</h4><p> 2015-09-30 电影台词<br> <div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"video":{"url":"http://image.zcc.ac.cn/myps_mp4_1.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></p><p> 2015-10-08 定格动画<br> <div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"video":{"url":"http://image.zcc.ac.cn/myps_mp4_2.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></p><p> 2015-10-21 约吗<br>  <div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer2"),"video":{"url":"http://image.zcc.ac.cn/myps_mp4_3.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><br> 2015-10-27 月亮<br>  <img src="http://image.zcc.ac.cn/myps_9.jpg" class="[images_ps]" title="月亮"></p><p> 2015-11-11 分身<br>  <img src="http://image.zcc.ac.cn/myps_10.jpg" class="[images_ps]" title="分身"></p><p> 2016-04-11 魔术<br>  <div id="dplayer3" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer3"),"video":{"url":"http://image.zcc.ac.cn/myps_mp4_4.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><br> 2016-08-01 葛优躺<br>  <img src="http://image.zcc.ac.cn/myps_11.jpg" class="[images_ps]" title="葛优躺"></p><h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>现在再看到大学时候的东西总感觉一股浓浓的乡土气息啊😂不过也算是一份美好的回忆吧。工作之后也就平时出去玩给拍摄的照片调调色的时候还用到PS了。最后附加两个自己PS入门时学习的李涛老师的教学视频。</p><p><a href="http://www.gogoup.com/course/GNQ==/" target="_blank" rel="noopener">PS高手之路基础篇</a><br><a href="http://www.gogoup.com/course/GMTQ=/" target="_blank" rel="noopener">PS高手之路提高篇</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="生活" scheme="http://yoursite.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="总结" scheme="http://yoursite.com/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>jQuery问题与解答</title>
    <link href="http://yoursite.com/2018/07/26/jQuery%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E7%AD%94/"/>
    <id>http://yoursite.com/2018/07/26/jQuery问题与解答/</id>
    <published>2018-07-25T16:12:46.000Z</published>
    <updated>2018-12-05T14:05:01.639Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/songshu.jpg" class="[images]" title="animal"><h3 id="选择筛选元素"><a href="#选择筛选元素" class="headerlink" title="选择筛选元素"></a>选择筛选元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.div1&quot;).children().css(&quot;font-size&quot;, &quot;40px&quot;);//所有子元素(第一级)</span><br><span class="line">$(&quot;.div2&quot;).children(&quot;:eq(1)&quot;).css(&quot;color&quot;, &quot;red&quot;);//第二个子元素</span><br><span class="line">$(&quot;.div3&quot;).find(&quot;*&quot;).css(&quot;color&quot;, &quot;red&quot;);//每个后代元素(包括子代的后代)</span><br><span class="line">$(&quot;.div4&quot;).find(&quot;li:last&quot;).css(&quot;color&quot;, &quot;red&quot;);//所有中最后一个li</span><br><span class="line">$(&quot;li&quot;).parents().css(&quot;color&quot;, &quot;red&quot;);//所有li的父元素</span><br><span class="line">$(&quot;span&quot;).parent();//元素的的直接父元素(只上一级)</span><br><span class="line">$(&quot;span&quot;).next();//紧跟的下一个元素</span><br><span class="line">$(&quot;span&quot;).prev();//紧跟的上一个兄弟元素</span><br><span class="line">$(&quot;span&quot;).siblings();//所有同辈元素(不包括自己)</span><br></pre></td></tr></table></figure><h3 id="增加-amp-移出元素"><a href="#增加-amp-移出元素" class="headerlink" title="增加&amp;移出元素*"></a>增加&amp;移出元素*</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).detach();//移出p元素，但不删除p的事件</span><br><span class="line">$(&quot;p&quot;).remove();//会删除事件</span><br><span class="line">$(&quot;p&quot;).append();//在元素内部的最后添加</span><br><span class="line">$(&quot;p&quot;).prepend();//在元素内部的开头添加</span><br><span class="line">$(&quot;p&quot;).after();//在元素外部的后面</span><br><span class="line">$(&quot;p&quot;).before();//在元素外部的前面</span><br><span class="line"></span><br><span class="line">$(&quot;button&quot;).bind(&quot;click&quot;, &#123;sid: this.id&#125;, function (event) &#123;</span><br><span class="line">    onefunction(event.data.sid);</span><br><span class="line">    //綁定带参数的方法</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(&quot;button&quot;).prop(&quot;onclick&quot;, null).off(&quot;click&quot;);//卸载点击事件</span><br><span class="line">$(&quot;button&quot;).trigger(&quot;click&quot;);//触发点击事件</span><br></pre></td></tr></table></figure><h3 id="页面无操作是定时"><a href="#页面无操作是定时" class="headerlink" title="页面无操作是定时"></a>页面无操作是定时</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//方法一</span><br><span class="line">var renovate = setInterval(&quot;xxfunction();&quot;, 3000);</span><br><span class="line">$(&quot;body&quot;).click(function () &#123;</span><br><span class="line">    window.clearInterval(renovate);</span><br><span class="line">    renovate = setInterval(&quot;xxfunction();&quot;, 3000);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="按钮冻结指定时间"><a href="#按钮冻结指定时间" class="headerlink" title="按钮冻结指定时间"></a>按钮冻结指定时间</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;button&quot;).click(function () &#123;</span><br><span class="line">    $(&quot;button&quot;.attr(&quot;disabled&quot;, true));</span><br><span class="line">    var de = setTimeout(&quot;disabledTime()&quot;, 1000);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function disabledTime() &#123;</span><br><span class="line">    $(&quot;button&quot;).attr(&quot;disabled&quot;, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="setTime函数带多个参数"><a href="#setTime函数带多个参数" class="headerlink" title="setTime函数带多个参数"></a>setTime函数带多个参数</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function () &#123;</span><br><span class="line">    xxfunction(id, name, sex)</span><br><span class="line">&#125;, 3000);</span><br></pre></td></tr></table></figure><h3 id="传递select的值-赋值"><a href="#传递select的值-赋值" class="headerlink" title="传递select的值(赋值)"></a>传递select的值(赋值)</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var allOption = document.getElementById(&quot;editSex&quot;).options;</span><br><span class="line">for (var i = 0; i &lt; allOption.length; i++) &#123;</span><br><span class="line">    if (allOption[i].id == theon.sex)//根据id来判断</span><br><span class="line">    &#123;</span><br><span class="line">        allOption[i].selected = true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="手机电话号码验证"><a href="#手机电话号码验证" class="headerlink" title="手机电话号码验证"></a>手机电话号码验证</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function checkTel(tel) &#123;</span><br><span class="line">    var mobile = /^1[3|5|8]\d&#123;9&#125;$/;</span><br><span class="line">    phone = /^0\d&#123;2,3&#125;-?\d&#123;7,8&#125;$/;</span><br><span class="line">    return mobile.test(tel) || phone.test(tel);//test:检测一个字符串是否匹配某个模式</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="通过自定义属性定位"><a href="#通过自定义属性定位" class="headerlink" title="通过自定义属性定位"></a>通过自定义属性定位</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var ss = data.nodeId;</span><br><span class="line">var tt = $(&apos;ul li[data-nodeid=&quot;&apos; + ss + &apos;&quot;]&apos;);</span><br><span class="line">console.log(tt);//包含所有的data-nodeid</span><br></pre></td></tr></table></figure><h3 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(this).is(&apos;:checked&apos;) == true;//复选框点击确认</span><br><span class="line">$(&quot;#ch&quot;).prop(&#123;checked: true&#125;);//复选框赋值</span><br></pre></td></tr></table></figure><h3 id="data-id使用"><a href="#data-id使用" class="headerlink" title="data-id使用"></a>data-id使用</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id = &quot;user&quot; data-uid = &quot;12345&quot; data-uname = &quot;愚人码头&quot; &gt; &lt;/div&gt;</span><br><span class="line">user . getAttribute ( &apos;site&apos; ) ;</span><br><span class="line">user . setAttribute ( &apos;site&apos; , &apos;http://www.css88.com&apos; ) ;</span><br><span class="line">// 读取标签定义属性 data-[key] = [value]</span><br><span class="line">$(&quot;#id&quot;).data(&quot;key&quot;);</span><br><span class="line">// 设置标签定义属性</span><br><span class="line">//注意：无需$(&quot;#id&quot;).data(&apos;data-chid&apos;);</span><br><span class="line">$(&quot;#changeModalData&quot;).data(&apos;chid&apos;);</span><br><span class="line"> $(&quot;#changeModalData&quot;).data(&apos;chid&apos;, ss);</span><br><span class="line">$(&quot;#id&quot;).data(&quot;key&quot;, &quot;value&quot;);</span><br></pre></td></tr></table></figure><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><a href="https://www.cnblogs.com/hewasdrunk/p/7271700.html" target="_blank" rel="noopener">webstrom配置less</a></p><p><a href="https://www.cnblogs.com/summerXll/p/6516627.html" target="_blank" rel="noopener">webstorm配置Autoprefixer</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>CSS问题与解答</title>
    <link href="http://yoursite.com/2018/07/19/CSS%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E7%AD%94/"/>
    <id>http://yoursite.com/2018/07/19/CSS问题与解答/</id>
    <published>2018-07-19T15:25:11.000Z</published>
    <updated>2019-06-01T07:20:29.256Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/b.jpg" class="[images]" title="花"><h3 id="flex布局"><a href="#flex布局" class="headerlink" title="flex布局"></a>flex布局</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> .fdiv &#123;</span><br><span class="line">  /*父容器*/</span><br><span class="line">   justify-content: flex-start; /*设置自容器沿主轴排列flex-end,center,space-around(均匀分布)，space-between(两端相切)*/</span><br><span class="line">   align-items: flex-start; /*设置交叉轴(上下轴),flex-end,center,baseline(基线),stretch(拉伸)*/</span><br><span class="line">   display: flex;</span><br><span class="line">   flex-direction: row; /*设置排列方向 row-revere,column,column-reverse*/</span><br><span class="line">       &#125;</span><br><span class="line">.cdiv &#123;</span><br><span class="line">   /*子容器*/</span><br><span class="line">   align-self: flex-start; /*字容器交叉轴。可覆盖父容器的align-items*/</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h3 id="文字的下划线"><a href="#文字的下划线" class="headerlink" title="文字的下划线"></a>文字的下划线</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.dia1 &#123;</span><br><span class="line">    text-decoration: none; /*正常*/</span><br><span class="line">    text-decoration: underline; /*下划线*/</span><br><span class="line">    text-decoration: overline; /*上划线*/</span><br><span class="line">    text-decoration: line-through; /*删除线*/</span><br><span class="line">    cursor: pointer; /*wait,help,move,none(游标不可见)*/</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><h3 id="字符间距"><a href="#字符间距" class="headerlink" title="字符间距"></a>字符间距</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.div2 &#123;</span><br><span class="line">    letter-spacing: 20px; /*字符间距*/</span><br><span class="line">    word-spacing: 20px; /*单词间距*/</span><br><span class="line">    text-align: center; /*文字居中*/</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h3 id="背景与图片"><a href="#背景与图片" class="headerlink" title="背景与图片"></a>背景与图片</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">img &#123;</span><br><span class="line">    vertical-align: middle; /*垂直对齐图片*/</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">.div4 &#123;</span><br><span class="line">    background-image: url(&quot;../images/img.png&quot;);</span><br><span class="line">    background-repeat: no-repeat; /*背景图片不重复*/</span><br><span class="line">    background-position: center bottom; /*背景图片位置，也可 10px 10px*/</span><br><span class="line">    background-attachment: fixed; /*图片不随页面其余部分滚动*/</span><br><span class="line">    background: rgba(98, 98, 98, 0.5); /*背景颜色不透明度*/</span><br><span class="line">    background: url(&quot;../images/img.png&quot;) no-repeat 0 center; /*表示水平0，垂直居中*/</span><br><span class="line">    background: url(&quot;../images/img.png&quot;) no-repeat -10px 20px; /*表示水平-10px，垂直20px*/</span><br><span class="line">    background-image: linear-gradient(0deg, #ededed 0%, #ffffff 100%); /*背景色渐变*/</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h3 id="完全居中"><a href="#完全居中" class="headerlink" title="完全居中"></a>完全居中</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.div5 &#123;</span><br><span class="line">  /*方法1*/</span><br><span class="line">    position: absolute;</span><br><span class="line">    margin: -60px 0 0 -60px /*自身高的一半，自身宽的一半*/</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">.div6 &#123;</span><br><span class="line">  /*方法2*/</span><br><span class="line">    position: fixed;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="消失隐藏"><a href="#消失隐藏" class="headerlink" title="消失隐藏"></a>消失隐藏</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.div6 &#123;</span><br><span class="line">    display: none; /*不占地方的隐藏*/</span><br><span class="line">    visibility: hidden; /*只隐藏，所占位置还在*/</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h3 id="div滚动条"><a href="#div滚动条" class="headerlink" title="div滚动条"></a>div滚动条</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.div7 &#123;</span><br><span class="line">    overflow-x: auto; /*如果溢出则出现滚动条*/</span><br><span class="line">    overflow-y: auto;</span><br><span class="line">    height: 100px;</span><br><span class="line">    width: 200px;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/inuyaksa/jquery.nicescroll" target="_blank" rel="noopener">滚动条插件niceScroll</a></p><h3 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.div8 &#123;</span><br><span class="line">    word-break: break-all; /*允许在单词内换行*/</span><br><span class="line">    word-break: keep-all; /*只能在半角空格或连字符处换行*/</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">禁止换行可用&lt;nobr&gt;</span><br></pre></td></tr></table></figure><h3 id="隔行颜色"><a href="#隔行颜色" class="headerlink" title="隔行颜色"></a>隔行颜色</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tbody tr:nth-child(2n+1) &#123;</span><br><span class="line">    background-color: #8ac16c;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">tbody tr:nth-child(2n) &#123;</span><br><span class="line">    background-color: #afd9ee;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@media (max-width: 1280px) &#123;</span><br><span class="line">    /*小于1280px时的css*/</span><br><span class="line">    /*注意：iframe时以上一层body参考*/</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="input-提示文字颜色"><a href="#input-提示文字颜色" class="headerlink" title="input 提示文字颜色"></a>input 提示文字颜色</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">input::-webkit-input-placeholder &#123;</span><br><span class="line">    color: #afd9ee</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">input::-moz-placeholder &#123;</span><br><span class="line">    color: #afd9ee;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">input:-ms-input-placeholder &#123;</span><br><span class="line">    color: #afd9ee;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="表格文字超出隐藏"><a href="#表格文字超出隐藏" class="headerlink" title="表格文字超出隐藏"></a>表格文字超出隐藏</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">table &#123;</span><br><span class="line">    table-layout: fixed; /*定义fixed才起作用*/</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">td &#123;</span><br><span class="line">    word-break: keep-all; /*不换行*/</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    overflow: hidden; /*内容超出隱藏*/</span><br><span class="line">    text-overflow: ellipsis; /*省略号*/</span><br><span class="line">    /*可在td+title属性显示全部内容*/</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="css选择器"><a href="#css选择器" class="headerlink" title="css选择器"></a>css选择器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">ul + p &#123;</span><br><span class="line">    /*ul的下一个p(紧贴的)相邻*/</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">input[type=checkbox]:checked + label:after &#123;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">ul &gt; p &#123;</span><br><span class="line">    /*ul的直接子代(只一代)*/</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">ul ~ p &#123;</span><br><span class="line"></span><br><span class="line">    /*与ul+p相似，p的紧贴下所有p*/</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">ul:not(&quot;.div1&quot;) &#123;</span><br><span class="line">    /*所有的ul中不包含.div1的*/</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">li:not(:last-child) &#123;</span><br><span class="line">    /*除最后一个的其余所有li的样式*/</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="各条边边框粗细"><a href="#各条边边框粗细" class="headerlink" title="各条边边框粗细"></a>各条边边框粗细</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.div9 &#123;</span><br><span class="line">    border-color: #afd9ee;</span><br><span class="line">    border-style: solid;</span><br><span class="line">    border-width: 1px 5px 5px 1px; /*设置边框粗细*/</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="动态计算长度值"><a href="#动态计算长度值" class="headerlink" title="动态计算长度值"></a>动态计算长度值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.div10 &#123;</span><br><span class="line">   calc(100 % - 10 px);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h3 id="背景图片全屏且保持比例"><a href="#背景图片全屏且保持比例" class="headerlink" title="背景图片全屏且保持比例"></a>背景图片全屏且保持比例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.bg &#123;</span><br><span class="line">background: url(&quot;images/login_bg.jpg&quot;) no-repeat center center;</span><br><span class="line">z-index: 0;</span><br><span class="line">background-size: cover;</span><br><span class="line">background-attachment: fixed;</span><br><span class="line">width: 100%;</span><br><span class="line">height: 100%;</span><br><span class="line">position: fixed;</span><br><span class="line">top: 0;</span><br><span class="line">left: 0;</span><br><span class="line">right: 0;</span><br><span class="line">bottom: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Android问题与解答1</title>
    <link href="http://yoursite.com/2018/07/08/Android%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B31/"/>
    <id>http://yoursite.com/2018/07/08/Android问题与解决1/</id>
    <published>2018-07-07T17:50:34.000Z</published>
    <updated>2019-07-21T16:33:18.461Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/two_pigs.jpg" class="[images]" title="猪"><h3 id="AndroidStudio减少文件的大小"><a href="#AndroidStudio减少文件的大小" class="headerlink" title="AndroidStudio减少文件的大小"></a>AndroidStudio减少文件的大小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">手动删除以下文件或者目录</span><br><span class="line">Dir : ProjectFolder/build</span><br><span class="line">Dir : ProjectFolder/app/build</span><br><span class="line">Dir : ProjectFolder/.gradle</span><br><span class="line">Dir : ProjectFolder/.idea</span><br><span class="line">Dir : ProjectFolder/captures</span><br><span class="line">File : ProjectFolder/*.iml</span><br><span class="line">File : ProjectFolder/local.properties</span><br><span class="line">File : ProjectFolder/.DS_Store</span><br><span class="line">File : ProjectFolder/.externalNativeBuild</span><br></pre></td></tr></table></figure><h3 id="加载图片"><a href="#加载图片" class="headerlink" title="加载图片"></a>加载图片</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imageView.setImageDrawable(ContextCompat.getDrawable(context, R.mipmap.mode_icon_4));</span><br></pre></td></tr></table></figure><h3 id="圆形图片"><a href="#圆形图片" class="headerlink" title="圆形图片"></a>圆形图片</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.compile &apos;de.hdodenhof:circleimageview:2.1.0&apos;</span><br><span class="line">2.&lt;de.hdodenhof.circleimageview.CircleImageView</span><br><span class="line">        android:id=&quot;@+id/profile_image&quot;</span><br><span class="line">        android:layout_width=&quot;96dp&quot;</span><br><span class="line">        android:layout_height=&quot;96dp&quot;</span><br><span class="line">        android:src=&quot;@drawable/d&quot;</span><br><span class="line">        app:civ_border_color=&quot;#FFFFFF&quot;</span><br><span class="line">        app:civ_border_width=&quot;2dp&quot;/&gt;</span><br></pre></td></tr></table></figure><h3 id="圆形背景框"><a href="#圆形背景框" class="headerlink" title="圆形背景框"></a>圆形背景框</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;? xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    android:shape=&quot;oval&quot;</span><br><span class="line">    android:useLevel=&quot;false&quot;&gt;</span><br><span class="line">    &lt;solid android:color=&quot;@color/accent_material_light&quot;&gt;&lt;/solid&gt;</span><br><span class="line">    &lt;size</span><br><span class="line">        android:width=&quot;15dp&quot;</span><br><span class="line">        android:height=&quot;15dp&quot;&gt;&lt;/size&gt;</span><br><span class="line">    &lt;padding</span><br><span class="line">        android:bottom=&quot;1dp&quot;</span><br><span class="line">        android:left=&quot;2dp&quot;</span><br><span class="line">        android:right=&quot;2dp&quot;</span><br><span class="line">        android:top=&quot;1dp&quot;&gt;&lt;/padding&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure><h3 id="导航栏"><a href="#导航栏" class="headerlink" title="导航栏"></a>导航栏</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">BottomNavigationBar 使用add show来切换fragment不要使用replace</span><br><span class="line">#隐藏软键盘</span><br><span class="line">  InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);</span><br><span class="line">             boolean isOpen = imm.isActive();//isOpen若返回true，则表示输入法打开</span><br><span class="line">             if (isOpen) &#123;</span><br><span class="line">             //强制隐藏键盘</span><br><span class="line">                 imm.hideSoftInputFromWindow(view.getWindowToken(), 0); </span><br><span class="line">             &#125;</span><br><span class="line"> InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);  </span><br><span class="line"> imm.showSoftInput(view,InputMethodManager.SHOW_FORCED); //表示强制显示</span><br></pre></td></tr></table></figure><h3 id="延迟执行"><a href="#延迟执行" class="headerlink" title="延迟执行"></a>延迟执行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Handler handler = new Handler();</span><br><span class="line">             handler.postDelayed(new Runnable() &#123;</span><br><span class="line">                 @Override</span><br><span class="line">                 public void run() &#123;</span><br><span class="line">                     initview(event.getEventId());</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;, 2000);//2秒后执行Runnable中的run方法</span><br></pre></td></tr></table></figure><h3 id="反转List"><a href="#反转List" class="headerlink" title="反转List"></a>反转List</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.reverse(messages);//翻转list</span><br></pre></td></tr></table></figure><h3 id="加分割横线"><a href="#加分割横线" class="headerlink" title="加分割横线"></a>加分割横线</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;solid android:color=&quot;@color/border_gray&quot;/&gt;</span><br><span class="line">    &lt;size android:height=&quot;1px&quot;/&gt;</span><br><span class="line">&lt;/shape&gt;</span><br><span class="line"></span><br><span class="line"> 2.   android:divider=&quot;@drawable/line_shape&quot;</span><br><span class="line">      android:showDividers=&quot;middle&quot;</span><br></pre></td></tr></table></figure><h3 id="填充满ImageView-区域"><a href="#填充满ImageView-区域" class="headerlink" title="填充满ImageView 区域"></a>填充满ImageView 区域</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImageView      android:scaleType=&quot;fitXY&quot;</span><br></pre></td></tr></table></figure><h3 id="设置横竖屏"><a href="#设置横竖屏" class="headerlink" title="设置横竖屏"></a>设置横竖屏</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">设置竖屏</span><br><span class="line"> android:screenOrientation=&quot;portrait&quot;</span><br><span class="line">设置横屏</span><br><span class="line"> android:screenOrientation=&quot;landscape&quot;</span><br></pre></td></tr></table></figure><h3 id="快速编辑”我的界面”"><a href="#快速编辑”我的界面”" class="headerlink" title="快速编辑”我的界面”"></a>快速编辑”我的界面”</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &apos;com.leon:lsettingviewlibrary:1.7.0&apos;</span><br></pre></td></tr></table></figure><p>参考: <a href="https://github.com/leonHua/LSettingView" target="_blank" rel="noopener">GitHub</a></p><h3 id="少量数据存储"><a href="#少量数据存储" class="headerlink" title="少量数据存储"></a>少量数据存储</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">     SharedPreferences pref = this.getSharedPreferences(&quot;data&quot;, MODE_PRIVATE);</span><br><span class="line">        SharedPreferences.Editor editor = pref.edit();</span><br><span class="line">        editor.putString(&quot;url&quot;, url);</span><br><span class="line">        editor.putString(&quot;map1&quot;, map.toString());</span><br><span class="line">//        editor.putStringSet(&quot;map2&quot;, (Set&lt;String&gt;) map);</span><br><span class="line">        editor.putString(&quot;path&quot;, path);</span><br><span class="line">        editor.commit();</span><br><span class="line">        SharedPreferences pref2 = this.getSharedPreferences(&quot;data&quot;, MODE_PRIVATE);</span><br><span class="line">        String url2 = pref2.getString(&quot;url&quot;, null);//第二个参数为默认值</span><br><span class="line">        String map12 = pref2.getString(&quot;map&quot;, null);</span><br><span class="line">//        Set map22 = pref2.getStringSet(&quot;map2&quot;, null);</span><br><span class="line">        String path2 = pref2.getString(&quot;path&quot;, null);</span><br></pre></td></tr></table></figure><h3 id="打开相机权限"><a href="#打开相机权限" class="headerlink" title="打开相机权限"></a>打开相机权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">private void checkPermissionForNormal() &#123;</span><br><span class="line">    //判断是否同意此权限</span><br><span class="line">    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">        //申请权限</span><br><span class="line">        ActivityCompat.requestPermissions(this, new String[]&#123;Manifest.permission.CAMERA&#125;, 100);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        Log.e(TAG, &quot;已授权拍照权限&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Fragment传递值"><a href="#Fragment传递值" class="headerlink" title="Fragment传递值"></a>Fragment传递值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">in.putExtra(&quot;data&quot;, mData.get(position));</span><br><span class="line">final Event event = (Event) getIntent().getSerializableExtra(&quot;data&quot;);</span><br></pre></td></tr></table></figure><h3 id="This-Gradle-plugin-requires-a-newer-IDE-able-to-request-IDE-model-level-3-报错。"><a href="#This-Gradle-plugin-requires-a-newer-IDE-able-to-request-IDE-model-level-3-报错。" class="headerlink" title="This Gradle plugin requires a newer IDE able to request IDE model level 3 报错。"></a>This Gradle plugin requires a newer IDE able to request IDE model level 3 报错。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">解决方法：</span><br><span class="line">（1）： 升级android studio IDE的版本。</span><br><span class="line">（2）：在项目的gradle.properties配置文件中加入以下这句：</span><br><span class="line">      gradle.properties中：android.injected.build.model.only.versioned = 3</span><br></pre></td></tr></table></figure><h3 id="隐藏软键盘"><a href="#隐藏软键盘" class="headerlink" title="隐藏软键盘"></a>隐藏软键盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">思路一：</span><br><span class="line">对最外层标签加事件</span><br><span class="line"> InputMethodManager imm = (InputMethodManager)</span><br><span class="line"> getSystemService(Context.INPUT_METHOD_SERVICE);</span><br><span class="line"> imm.hideSoftInputFromWindow(v.getWindowToken(), 0);</span><br></pre></td></tr></table></figure><h3 id="按钮点击波纹效果："><a href="#按钮点击波纹效果：" class="headerlink" title="按钮点击波纹效果："></a>按钮点击波纹效果：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;ripple xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">        android:color=&quot;@color/green&quot;&gt;</span><br><span class="line">&lt;!-- 按压的颜色 --&gt;</span><br><span class="line">&lt;!-- 按钮未点击的样子 --&gt;</span><br><span class="line">&lt;item android:drawable=&quot;@drawable/lb_grey_border4&quot; /&gt;</span><br><span class="line">&lt;/ripple&gt;</span><br></pre></td></tr></table></figure><h3 id="CardView使用方法，此时圆角不受内部元素影响"><a href="#CardView使用方法，此时圆角不受内部元素影响" class="headerlink" title="CardView使用方法，此时圆角不受内部元素影响"></a>CardView使用方法，此时圆角不受内部元素影响</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.v7.widget.CardView</span><br><span class="line"> android:layout_width=&quot;wrap_content&quot;</span><br><span class="line"> android:layout_height=&quot;wrap_content&quot;</span><br><span class="line"> android:layout_marginBottom=&quot;5dp&quot;</span><br><span class="line"> android:layout_marginLeft=&quot;40dp&quot;</span><br><span class="line"> android:layout_marginRight=&quot;40dp&quot;</span><br><span class="line"> app:cardCornerRadius=&quot;10dp&quot;</span><br><span class="line"> app:cardElevation=&quot;5dp&quot;&gt;</span><br></pre></td></tr></table></figure><h3 id="改变指定字体颜色可使用"><a href="#改变指定字体颜色可使用" class="headerlink" title="改变指定字体颜色可使用"></a>改变指定字体颜色可使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String source = &quot; &lt;font color=&apos;red&apos;&gt;提示：&lt;/font&gt; 启动后分机待处理。&quot;;</span><br><span class="line">hintText.setText(Html.fromHtml(source));</span><br></pre></td></tr></table></figure><h3 id="WebView的使用"><a href="#WebView的使用" class="headerlink" title="WebView的使用"></a>WebView的使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">WebSettings webSettings = webView.getSettings();</span><br><span class="line">//设置是否支持缩放</span><br><span class="line">webSettings.setSupportZoom(true);</span><br><span class="line">webSettings.setBuiltInZoomControls(true);</span><br><span class="line">//设置是否显示缩放按钮</span><br><span class="line">webSettings.setDisplayZoomControls(true);</span><br><span class="line">//设置WebView是否允许执行JavaScript脚本，默认false，不允许</span><br><span class="line">webSettings.setJavaScriptEnabled(true);</span><br><span class="line">//设置自适应屏幕宽度</span><br><span class="line">webSettings.setUseWideViewPort(true);</span><br><span class="line">webSettings.setLoadWithOverviewMode(true);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>宏村与黄山</title>
    <link href="http://yoursite.com/2018/06/10/%E5%AE%8F%E6%9D%91%E4%B8%8E%E9%BB%84%E5%B1%B1/"/>
    <id>http://yoursite.com/2018/06/10/宏村与黄山/</id>
    <published>2018-06-10T12:56:48.000Z</published>
    <updated>2019-05-30T14:31:20.931Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="宏村——黄山两日游"><a href="#宏村——黄山两日游" class="headerlink" title="宏村——黄山两日游"></a>宏村——黄山两日游</h2><p>5月26——27两天，踏上了公司组织的宏村——黄山两日游旅程</p><h2 id="Day1"><a href="#Day1" class="headerlink" title="Day1"></a>Day1</h2><p>早起，做了四个小时的大巴到了黄山的汤口镇，吃过简单的徽派农家菜午饭，下午在导游的带领下游玩了中国的画里乡村-水墨宏村。这种白墙青瓦马头墙的徽派建筑真的给人一种走进画里的感觉啊。看图说话<br><img src="/images_hs/hs_1.jpg" class="[images_hs]" title="宏村"> </p><img src="/images_hs/hs_3.jpg" class="[images_hs]" title="宏村"> <img src="/images_hs/hs_4.jpg" class="[images_hs]" title="宏村"> <p>见识一下我们公司的美女<br><img src="/images_hs/hs_5.jpg" class="[images_hs]" title="宏村"> </p><img src="/images_hs/hs_6.jpg" class="[images_hs]" title="宏村"> <img src="/images_hs/hs_7.jpg" class="[images_hs]" title="宏村"> <p>我们被安排住在汤口镇的一个山脚下的旅馆里，一个开窗见山的旅馆。夜晚下起了小雨，闻着山上清新的空气、听着淅淅的雨声也是别有一番风情阿。</p><h2 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h2><p>早起去爬黄山，导游不建议我们爬上去，建议坐缆车，她说黄山的风景都在上面，爬上去要3个小时你们会很累。现在想想真是庆幸没有坚持“我来黄山就是要爬上去去的”不知天高地厚的想法。要是真爬了估计会累死在半山腰上。</p><p>云海中的缆车<br><img src="/images_hs/hs_lc.jpg" class="[images_hs]" title="宏村"></p><p>导游说我们运气很好，她说每年只有六分之一的时间能看到黄山云海，说我们今天运气很好</p><img src="/images_hs/hs_22.jpg" class="[images_hs]" title="黄山"> <img src="/images_hs/hs_23.jpg" class="[images_hs]" title="黄山"> <img src="/images_hs/hs_24.jpg" class="[images_hs]" title="黄山"> <img src="/images_hs/hs_25.jpg" class="[images_hs]" title="黄山"> <img src="/images_hs/hs_34.jpg" class="[images_hs]" title="黄山"> <p>山<br><img src="/images_hs/hs_21.jpg" class="[images_hs]" title="黄山"> </p><img src="/images_hs/hs_33.jpg" class="[images_hs]" title="黄山"> <img src="/images_hs/hs_26.jpg" class="[images_hs]" title="黄山"> <img src="/images_hs/hs_35.jpg" class="[images_hs]" title="黄山"> <p>再见识一下我们公司的美女<br><img src="/images_hs/hs_28.jpg" class="[images_hs]" title="黄山"><br>背景是天都峰<br><img src="/images_hs/hs_27.jpg" class="[images_hs]" title="黄山"><br>迎客松<br><img src="/images_hs/hs_yks.jpg" class="[images_hs]" title="黄山"><br>下山的时候不怕人的小松鼠<br><img src="/images_hs/hs_30.jpg" class="[images_hs]" title="黄山"> </p><p>### </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="生活" scheme="http://yoursite.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客创建与使用</title>
    <link href="http://yoursite.com/2018/05/21/Hexo%E5%8D%9A%E5%AE%A2%E5%88%9B%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2018/05/21/Hexo博客创建与使用/</id>
    <published>2018-05-21T15:24:14.000Z</published>
    <updated>2019-07-14T16:10:05.910Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/images/food.jpg" class="[food]" title="食物"><h3 id="博客创建"><a href="#博客创建" class="headerlink" title="博客创建"></a>博客创建</h3><p>博客安装配置参考下方链接</p><p><a href="https://blog.csdn.net/sinat_37781304/article/details/82729029" target="_blank" rel="noopener">hexo史上最全搭建教程</a><br><a href="http://visugar.com/2017/08/01/20170801HexoPlugins/" target="_blank" rel="noopener">Hexo博客添加SEO-评论系统-阅读统计-站长统计 </a></p><h3 id="博客使用"><a href="#博客使用" class="headerlink" title="博客使用"></a>博客使用</h3><p>本博客使用 <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a> 主题,所以部分方法适用于Hexo为主题的博客</p><p>在博客目录/myblog鼠标右键 Git Bash Here<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//注意不要用淘宝镜像会出现问题，使用：npm set registry https://registry.npmjs.org/</span><br><span class="line">hexo clean #清除缓存 网页正常情况下可以忽略此条命令</span><br><span class="line">hexo generate #生成</span><br><span class="line">hexo server #启动服务预览，非必要，可本地浏览网页</span><br><span class="line">//打开http://localhost:4000/，发现刚才的文章已经成功了</span><br><span class="line"></span><br><span class="line">hexo deploy #部署发布</span><br><span class="line"></span><br><span class="line">hexo new &quot;博客题目&quot; #新建文章</span><br></pre></td></tr></table></figure></p><p>  添加图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% img [food] /images/food.png 食物 %&#125;</span><br></pre></td></tr></table></figure></p><p> 绑定域名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">新建CNAME文件 里面写上你的域名</span><br></pre></td></tr></table></figure><p>超链接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[超链接名](超链接地址 &quot;超链接title&quot;)</span><br><span class="line">[网站名称](http://zcccool.cn)</span><br></pre></td></tr></table></figure></p><p>在文章中添加分类与标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">--- title: 文章标题</span><br><span class="line"> date: 2018-10-22 01:16:24 </span><br><span class="line"> categories: &quot;云服务器&quot; (#分类) </span><br><span class="line"> tags: (#标签) </span><br><span class="line">       - centOS </span><br><span class="line">       - tomcat</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>增加锚点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 使用Markdown的语法来增加跳转链接：“[名称](#id)”。</span><br><span class="line">2.&lt;span id = &quot;jump&quot;&gt;跳转到的位置&lt;/span&gt;</span><br></pre></td></tr></table></figure></p><h3 id="添加背景音乐"><a href="#添加背景音乐" class="headerlink" title="添加背景音乐"></a>添加背景音乐</h3><p>在themes/hueman/_config.yml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">widgets:</span><br><span class="line">    - catalog</span><br><span class="line">    - recent_posts</span><br><span class="line">    - category</span><br><span class="line">    - archive</span><br><span class="line">    - tag</span><br><span class="line">    - tagcloud</span><br><span class="line">    - links</span><br><span class="line">    - myleft #此处添加了自定义的侧边栏</span><br></pre></td></tr></table></figure></p><p>在themes/hueman/layout/widget/myleft.ejs里添加音乐ifragment<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=300 height=86</span><br><span class="line">            src=&quot;//music.163.com/outchain/player?type=2&amp;id=28285910&amp;auto=1&amp;height=66&quot;&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure></p><h3 id="添加导航栏"><a href="#添加导航栏" class="headerlink" title="添加导航栏"></a>添加导航栏</h3><p>1.在G:themes\hueman\languages\zh-CN.yml中添加英文对照</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">index:</span><br><span class="line">    home: &apos;主页&apos;</span><br><span class="line">    about: &apos;关于&apos;</span><br><span class="line">    test: &apos;测试导航栏&apos;  #添加的导航栏</span><br><span class="line">    search: &apos;搜索&apos;</span><br><span class="line">    archive: &apos;归档&apos;</span><br><span class="line">    category: &apos;分类：&apos;</span><br><span class="line">    uncategorized: &apos;未分类&apos;</span><br><span class="line">    tag: &apos;标签：&apos;</span><br></pre></td></tr></table></figure><p>2.在themes/hueman/_config.yml中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">    Home: /</span><br><span class="line">    # Delete this row if you don&apos;t want categories in your header nav bar</span><br><span class="line">    Categories:</span><br><span class="line">    About: /about/index.html</span><br><span class="line">    Test: /test/test.html  #添加的导航栏html文件</span><br></pre></td></tr></table></figure></p><p>3.在sourse文件夹下新建文件夹test再新建test.html即可添加导航页面</p><h3 id="文章中插入音频和视频"><a href="#文章中插入音频和视频" class="headerlink" title="文章中插入音频和视频"></a>文章中插入音频和视频</h3><p>1.在cmd 安装两个插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo-tag-aplayer</span><br><span class="line">hexo-tag-dplayer</span><br></pre></td></tr></table></figure></p><p>2.在你本地安装博客的根目录下右击鼠标打开Git Bash ，运行如下两条命令来分别安装以上的两款插件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-dplayer</span><br><span class="line">npm install hexo-tag-aplayer</span><br></pre></td></tr></table></figure></p><p>3.使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;歌名&quot; &quot;歌手&quot; &quot;url&quot; &quot;autoplay=false&quot; %&#125;</span><br><span class="line">&#123;% dplayer key=value ... %&#125;</span><br></pre></td></tr></table></figure></p><h3 id="阿里云域名绑定github博客"><a href="#阿里云域名绑定github博客" class="headerlink" title="阿里云域名绑定github博客"></a>阿里云域名绑定github博客</h3><p>1.ping 一下自己的博客地址 获得ip：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping zccguagua.github.io</span><br></pre></td></tr></table></figure></p><p>2.打开阿里云的域名解析，填入刚刚的ip进行解析<br>3.在自己的hexo项目source文件夹下添加CNAME文件，在文件填入自己的域名”zcccool.cn”<br>4.在github上修改custom domin 设置自己的域名zcccool.cn</p><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>  themes/hueman/layout/common/head.ejs<br>  themes/hueman/layout/common/footer.ejs<br>  对应页面的头部，底部，可添加自己的通用js,css等</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="代码" scheme="http://yoursite.com/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
</feed>
